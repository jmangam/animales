"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js"],{

/***/ 7950:
/*!************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-datetime-button.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_datetime_button": () => (/* binding */ DatetimeButton)
/* harmony export */ });
/* harmony import */ var C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 1559);
/* harmony import */ var _ionic_global_c95cf239_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-c95cf239.js */ 8607);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 9234);
/* harmony import */ var _index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-c4b11676.js */ 9273);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-7670341c.js */ 320);
/* harmony import */ var _parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parse-5b8a1541.js */ 5479);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const iosDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const mdDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const DatetimeButton = class {
  constructor(hostRef) {
    var _this = this;

    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.datetimeEl = null;
    this.overlayEl = null;
    this.datetimePresentation = 'date-time';
    this.datetimeActive = false;
    /**
     * The color to use from your application's color palette.
     * Default options are: `"primary"`, `"secondary"`, `"tertiary"`, `"success"`, `"warning"`, `"danger"`, `"light"`, `"medium"`, and `"dark"`.
     * For more information on colors, see [theming](/docs/theming/basics).
     */

    this.color = 'primary';
    /**
     * If `true`, the user cannot interact with the button.
     */

    this.disabled = false;
    /**
     * Accepts one or more string values and converts
     * them to DatetimeParts. This is done so datetime-button
     * can work with an array internally and not need
     * to keep checking if the datetime value is `string` or `string[]`.
     */

    this.getParsedDateValues = value => {
      // TODO FW-2646 Remove value === ''
      if (value === '' || value === undefined || value === null) {
        return [];
      }

      if (Array.isArray(value)) {
        return value;
      }

      return [value];
    };
    /**
     * Check the value property on the linked
     * ion-datetime and then format it according
     * to the locale specified on ion-datetime.
     */


    this.setDateTimeText = () => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;

      if (!datetimeEl) {
        return;
      }

      const {
        value,
        locale,
        hourCycle,
        preferWheel,
        multiple,
        titleSelectedDatesFormatter
      } = datetimeEl;
      const parsedValues = this.getParsedDateValues(value);
      /**
       * Both ion-datetime and ion-datetime-button default
       * to today's date and time if no value is set.
       */

      const parsedDatetimes = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.p)(parsedValues.length > 0 ? parsedValues : [(0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.f)()]);
      /**
       * If developers incorrectly use multiple="true"
       * with non "date" datetimes, then just select
       * the first value so the interface does
       * not appear broken. Datetime will provide a
       * warning in the console.
       */

      const firstParsedDatetime = parsedDatetimes[0];
      const use24Hour = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.I)(locale, hourCycle); // TODO(FW-1865) - Remove once FW-1831 is fixed.

      parsedDatetimes.forEach(parsedDatetime => {
        parsedDatetime.tzOffset = undefined;
      });
      this.dateText = this.timeText = undefined;

      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const dateText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime);
          const timeText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.J)(locale, firstParsedDatetime, use24Hour);

          if (preferWheel) {
            this.dateText = `${dateText} ${timeText}`;
          } else {
            this.dateText = dateText;
            this.timeText = timeText;
          }

          break;

        case 'date':
          if (multiple && parsedValues.length !== 1) {
            let headerText = `${parsedValues.length} days`; // default/fallback for multiple selection

            if (titleSelectedDatesFormatter !== undefined) {
              try {
                headerText = titleSelectedDatesFormatter(parsedValues);
              } catch (e) {
                (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)('Exception in provided `titleSelectedDatesFormatter`: ', e);
              }
            }

            this.dateText = headerText;
          } else {
            this.dateText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime);
          }

          break;

        case 'time':
          this.timeText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.J)(locale, firstParsedDatetime, use24Hour);
          break;

        case 'month-year':
          this.dateText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.F)(locale, firstParsedDatetime);
          break;

        case 'month':
          this.dateText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.R)(locale, firstParsedDatetime, {
            month: 'long'
          });
          break;

        case 'year':
          this.dateText = (0,_parse_5b8a1541_js__WEBPACK_IMPORTED_MODULE_6__.R)(locale, firstParsedDatetime, {
            year: 'numeric'
          });
          break;
      }
    };
    /**
     * Waits for the ion-datetime to re-render.
     * This is needed in order to correctly position
     * a popover relative to the trigger element.
     */


    this.waitForDatetimeChanges = /*#__PURE__*/(0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetimeEl
      } = _this;

      if (!datetimeEl) {
        return Promise.resolve();
      }

      return new Promise(resolve => {
        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionRender', resolve, {
          once: true
        });
      });
    });

    this.handleDateClick = /*#__PURE__*/function () {
      var _ref2 = (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
        const {
          datetimeEl,
          datetimePresentation
        } = _this;

        if (!datetimeEl) {
          return;
        }

        let needsPresentationChange = false;
        /**
         * When clicking the date button,
         * we need to make sure that only a date
         * picker is displayed. For presentation styles
         * that display content other than a date picker,
         * we need to update the presentation style.
         */

        switch (datetimePresentation) {
          case 'date-time':
          case 'time-date':
            const needsChange = datetimeEl.presentation !== 'date';
            /**
             * The date+time wheel picker
             * shows date and time together,
             * so do not adjust the presentation
             * in that case.
             */

            if (!datetimeEl.preferWheel && needsChange) {
              datetimeEl.presentation = 'date';
              needsPresentationChange = true;
            }

            break;
        }
        /**
         * Track which button was clicked
         * so that it can have the correct
         * activated styles applied when
         * the modal/popover containing
         * the datetime is opened.
         */


        _this.selectedButton = 'date';

        _this.presentOverlay(ev, needsPresentationChange, _this.dateTargetEl);
      });

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();

    this.handleTimeClick = ev => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;

      if (!datetimeEl) {
        return;
      }

      let needsPresentationChange = false;
      /**
       * When clicking the time button,
       * we need to make sure that only a time
       * picker is displayed. For presentation styles
       * that display content other than a time picker,
       * we need to update the presentation style.
       */

      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const needsChange = datetimeEl.presentation !== 'time';

          if (needsChange) {
            datetimeEl.presentation = 'time';
            needsPresentationChange = true;
          }

          break;
      }
      /**
       * Track which button was clicked
       * so that it can have the correct
       * activated styles applied when
       * the modal/popover containing
       * the datetime is opened.
       */


      this.selectedButton = 'time';
      this.presentOverlay(ev, needsPresentationChange, this.timeTargetEl);
    };
    /**
     * If the datetime is presented in an
     * overlay, the datetime and overlay
     * should be appropriately sized.
     * These classes provide default sizing values
     * that developers can customize.
     * The goal is to provide an overlay that is
     * reasonably sized with a datetime that
     * fills the entire container.
     */


    this.presentOverlay = /*#__PURE__*/function () {
      var _ref3 = (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev, needsPresentationChange, triggerEl) {
        const {
          overlayEl
        } = _this;

        if (!overlayEl) {
          return;
        }

        if (overlayEl.tagName === 'ION-POPOVER') {
          /**
           * When the presentation on datetime changes,
           * we need to wait for the component to re-render
           * otherwise the computed width/height of the
           * popover content will be wrong, causing
           * the popover to not align with the trigger element.
           */
          if (needsPresentationChange) {
            yield _this.waitForDatetimeChanges();
          }
          /**
           * We pass the trigger button element
           * so that the popover aligns with the individual
           * button that was clicked, not the component container.
           */


          overlayEl.present(Object.assign(Object.assign({}, ev), {
            detail: {
              ionShadowTarget: triggerEl
            }
          }));
        } else {
          overlayEl.present();
        }
      });

      return function (_x2, _x3, _x4) {
        return _ref3.apply(this, arguments);
      };
    }();
  }

  componentWillLoad() {
    var _this2 = this;

    return (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetime
      } = _this2;

      if (!datetime) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)('An ID associated with an ion-datetime instance is required for ion-datetime-button to function properly.', _this2.el);
        return;
      }

      const datetimeEl = _this2.datetimeEl = document.getElementById(datetime);

      if (!datetimeEl) {
        (0,_index_c4b11676_js__WEBPACK_IMPORTED_MODULE_4__.b)(`No ion-datetime instance found for ID '${datetime}'.`, _this2.el);
        return;
      }
      /**
       * Since the datetime can be used in any context (overlays, accordion, etc)
       * we track when it is visible to determine when it is active.
       * This informs which button is highlighted as well as the
       * aria-expanded state.
       */


      const io = new IntersectionObserver(entries => {
        const ev = entries[0];
        _this2.datetimeActive = ev.isIntersecting;
      }, {
        threshold: 0.01
      });
      io.observe(datetimeEl);
      /**
       * Get a reference to any modal/popover
       * the datetime is being used in so we can
       * correctly size it when it is presented.
       */

      const overlayEl = _this2.overlayEl = datetimeEl.closest('ion-modal, ion-popover');
      /**
       * The .ion-datetime-button-overlay class contains
       * styles that allow any modal/popover to be
       * sized according to the dimensions of the datetime.
       * If developers want a smaller/larger overlay all they need
       * to do is change the width/height of the datetime.
       * Additionally, this lets us avoid having to set
       * explicit widths on each variant of datetime.
       */

      if (overlayEl) {
        overlayEl.classList.add('ion-datetime-button-overlay');
      }

      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.c)(datetimeEl, () => {
        const datetimePresentation = _this2.datetimePresentation = datetimeEl.presentation || 'date-time';
        /**
         * Set the initial display
         * in the rendered buttons.
         *
         * From there, we need to listen
         * for ionChange to be emitted
         * from datetime so we know when
         * to re-render the displayed
         * text in the buttons.
         */

        _this2.setDateTimeText();

        (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionChange', _this2.setDateTimeText);
        /**
         * Configure the initial selected button
         * in the event that the datetime is displayed
         * without clicking one of the datetime buttons.
         * For example, a datetime could be expanded
         * in an accordion. In this case users only
         * need to click the accordion header to show
         * the datetime.
         */

        switch (datetimePresentation) {
          case 'date-time':
          case 'date':
          case 'month-year':
          case 'month':
          case 'year':
            _this2.selectedButton = 'date';
            break;

          case 'time-date':
          case 'time':
            _this2.selectedButton = 'time';
            break;
        }
      });
    })();
  }

  render() {
    const {
      color,
      dateText,
      timeText,
      selectedButton,
      datetimeActive,
      disabled
    } = this;
    const mode = (0,_ionic_global_c95cf239_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__.c)(color, {
        [mode]: true,
        [`${selectedButton}-active`]: datetimeActive,
        ['datetime-button-disabled']: disabled
      })
    }, dateText && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "date-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleDateClick,
      disabled: disabled,
      part: "native",
      ref: el => this.dateTargetEl = el
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "date-target"
    }, dateText), mode === 'md' && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)), timeText && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "time-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleTimeClick,
      disabled: disabled,
      part: "native",
      ref: el => this.timeTargetEl = el
    }, (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "time-target"
    }, timeText), mode === 'md' && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

};
DatetimeButton.style = {
  ios: iosDatetimeButtonCss,
  md: mdDatetimeButtonCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWRhdGV0aW1lLWJ1dHRvbl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTTZCLG9CQUFvQixHQUFHLHN4Q0FBN0I7QUFFQSxNQUFNQyxtQkFBbUIsR0FBRyxzeENBQTVCO0FBRUEsTUFBTUMsY0FBYyxHQUFHLE1BQU07RUFDM0JDLFdBQVcsQ0FBQ0MsT0FBRCxFQUFVO0lBQUE7O0lBQ25CaEMscURBQWdCLENBQUMsSUFBRCxFQUFPZ0MsT0FBUCxDQUFoQjtJQUNBLEtBQUtDLFVBQUwsR0FBa0IsSUFBbEI7SUFDQSxLQUFLQyxTQUFMLEdBQWlCLElBQWpCO0lBQ0EsS0FBS0Msb0JBQUwsR0FBNEIsV0FBNUI7SUFDQSxLQUFLQyxjQUFMLEdBQXNCLEtBQXRCO0lBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7SUFDSSxLQUFLQyxLQUFMLEdBQWEsU0FBYjtJQUNBO0FBQ0o7QUFDQTs7SUFDSSxLQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0lBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztJQUNJLEtBQUtDLG1CQUFMLEdBQTRCQyxLQUFELElBQVc7TUFDcEM7TUFDQSxJQUFJQSxLQUFLLEtBQUssRUFBVixJQUFnQkEsS0FBSyxLQUFLQyxTQUExQixJQUF1Q0QsS0FBSyxLQUFLLElBQXJELEVBQTJEO1FBQ3pELE9BQU8sRUFBUDtNQUNEOztNQUNELElBQUlFLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxLQUFkLENBQUosRUFBMEI7UUFDeEIsT0FBT0EsS0FBUDtNQUNEOztNQUNELE9BQU8sQ0FBQ0EsS0FBRCxDQUFQO0lBQ0QsQ0FURDtJQVVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7OztJQUNJLEtBQUtJLGVBQUwsR0FBdUIsTUFBTTtNQUMzQixNQUFNO1FBQUVYLFVBQUY7UUFB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QTBOdEYscURBQUMsQ0FBQyxNQUFELEVBQVM7TUFBRXlHLElBQUksRUFBRTtJQUFSLENBQVQsRUFBa0MvQyxRQUFsQyxDQUEzTixFQUF3UXlDLElBQUksS0FBSyxJQUFULElBQWlCbkcscURBQUMsQ0FBQyxtQkFBRCxFQUFzQixJQUF0QixDQUExUixDQUpwVixDQUFUO0VBS0Q7O0VBQ0ssSUFBRnNGLEVBQUUsR0FBRztJQUFFLE9BQU9sRixxREFBVSxDQUFDLElBQUQsQ0FBakI7RUFBMEI7O0FBblVWLENBQTdCO0FBcVVBeUIsY0FBYyxDQUFDNkUsS0FBZixHQUF1QjtFQUNyQkMsR0FBRyxFQUFFaEYsb0JBRGdCO0VBRXJCaUYsRUFBRSxFQUFFaEY7QUFGaUIsQ0FBdkIiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1kYXRldGltZS1idXR0b24uZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LThlNjkyNDQ1LmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWM5NWNmMjM5LmpzJztcbmltcG9ydCB7IGEgYXMgYWRkRXZlbnRMaXN0ZW5lciwgYyBhcyBjb21wb25lbnRPblJlYWR5IH0gZnJvbSAnLi9oZWxwZXJzLTNiMzkwZTQ4LmpzJztcbmltcG9ydCB7IGIgYXMgcHJpbnRJb25FcnJvciB9IGZyb20gJy4vaW5kZXgtYzRiMTE2NzYuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMgfSBmcm9tICcuL3RoZW1lLTc2NzAzNDFjLmpzJztcbmltcG9ydCB7IHAgYXMgcGFyc2VEYXRlLCBmIGFzIGdldFRvZGF5LCBJIGFzIGlzMjRIb3VyLCBSIGFzIGdldExvY2FsaXplZERhdGVUaW1lLCBGIGFzIGdldE1vbnRoQW5kWWVhciwgSiBhcyBnZXRMb2NhbGl6ZWRUaW1lLCBTIGFzIGdldE1vbnRoRGF5QW5kWWVhciB9IGZyb20gJy4vcGFyc2UtNWI4YTE1NDEuanMnO1xuXG5jb25zdCBpb3NEYXRldGltZUJ1dHRvbkNzcyA9IFwiOmhvc3R7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfTpob3N0IGJ1dHRvbntib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nLWxlZnQ6MTJweDtwYWRkaW5nLXJpZ2h0OjEycHg7cGFkZGluZy10b3A6NnB4O3BhZGRpbmctYm90dG9tOjZweDttYXJnaW4tbGVmdDoycHg7bWFyZ2luLXJpZ2h0OjJweDttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjBweDtwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LXRyYW5zaXRpb246MTUwbXMgY29sb3IgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTMwMCwgI2VkZWVmMCk7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOmluaGVyaXQ7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0IGJ1dHRvbntwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTJweDtwYWRkaW5nLWlubGluZS1zdGFydDoxMnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTJweDtwYWRkaW5nLWlubGluZS1lbmQ6MTJweH19QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdCBidXR0b257bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjJweDttYXJnaW4taW5saW5lLXN0YXJ0OjJweDstd2Via2l0LW1hcmdpbi1lbmQ6MnB4O21hcmdpbi1pbmxpbmUtZW5kOjJweH19Omhvc3QoLnRpbWUtYWN0aXZlKSAjdGltZS1idXR0b24sOmhvc3QoLmRhdGUtYWN0aXZlKSAjZGF0ZS1idXR0b257Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfTpob3N0KC5kYXRldGltZS1idXR0b24tZGlzYWJsZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCkgYnV0dG9ue29wYWNpdHk6MC40fVwiO1xuXG5jb25zdCBtZERhdGV0aW1lQnV0dG9uQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Omhvc3QgYnV0dG9ue2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmctbGVmdDoxMnB4O3BhZGRpbmctcmlnaHQ6MTJweDtwYWRkaW5nLXRvcDo2cHg7cGFkZGluZy1ib3R0b206NnB4O21hcmdpbi1sZWZ0OjJweDttYXJnaW4tcmlnaHQ6MnB4O21hcmdpbi10b3A6MHB4O21hcmdpbi1ib3R0b206MHB4O3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDt0cmFuc2l0aW9uOjE1MG1zIGNvbG9yIGVhc2UtaW4tb3V0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMzAwLCAjZWRlZWYwKTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3QgYnV0dG9ue3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxMnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEycHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMnB4O3BhZGRpbmctaW5saW5lLWVuZDoxMnB4fX1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0IGJ1dHRvbnttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6MnB4Oy13ZWJraXQtbWFyZ2luLWVuZDoycHg7bWFyZ2luLWlubGluZS1lbmQ6MnB4fX06aG9zdCgudGltZS1hY3RpdmUpICN0aW1lLWJ1dHRvbiw6aG9zdCguZGF0ZS1hY3RpdmUpICNkYXRlLWJ1dHRvbntjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKSBidXR0b257b3BhY2l0eTowLjR9XCI7XG5cbmNvbnN0IERhdGV0aW1lQnV0dG9uID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRhdGV0aW1lRWwgPSBudWxsO1xuICAgIHRoaXMub3ZlcmxheUVsID0gbnVsbDtcbiAgICB0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gJ2RhdGUtdGltZSc7XG4gICAgdGhpcy5kYXRldGltZUFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBjb2xvciB0byB1c2UgZnJvbSB5b3VyIGFwcGxpY2F0aW9uJ3MgY29sb3IgcGFsZXR0ZS5cbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMgYXJlOiBgXCJwcmltYXJ5XCJgLCBgXCJzZWNvbmRhcnlcImAsIGBcInRlcnRpYXJ5XCJgLCBgXCJzdWNjZXNzXCJgLCBgXCJ3YXJuaW5nXCJgLCBgXCJkYW5nZXJcImAsIGBcImxpZ2h0XCJgLCBgXCJtZWRpdW1cImAsIGFuZCBgXCJkYXJrXCJgLlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGNvbG9ycywgc2VlIFt0aGVtaW5nXSgvZG9jcy90aGVtaW5nL2Jhc2ljcykuXG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9ICdwcmltYXJ5JztcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSB1c2VyIGNhbm5vdCBpbnRlcmFjdCB3aXRoIHRoZSBidXR0b24uXG4gICAgICovXG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgb25lIG9yIG1vcmUgc3RyaW5nIHZhbHVlcyBhbmQgY29udmVydHNcbiAgICAgKiB0aGVtIHRvIERhdGV0aW1lUGFydHMuIFRoaXMgaXMgZG9uZSBzbyBkYXRldGltZS1idXR0b25cbiAgICAgKiBjYW4gd29yayB3aXRoIGFuIGFycmF5IGludGVybmFsbHkgYW5kIG5vdCBuZWVkXG4gICAgICogdG8ga2VlcCBjaGVja2luZyBpZiB0aGUgZGF0ZXRpbWUgdmFsdWUgaXMgYHN0cmluZ2Agb3IgYHN0cmluZ1tdYC5cbiAgICAgKi9cbiAgICB0aGlzLmdldFBhcnNlZERhdGVWYWx1ZXMgPSAodmFsdWUpID0+IHtcbiAgICAgIC8vIFRPRE8gRlctMjY0NiBSZW1vdmUgdmFsdWUgPT09ICcnXG4gICAgICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdmFsdWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIHZhbHVlIHByb3BlcnR5IG9uIHRoZSBsaW5rZWRcbiAgICAgKiBpb24tZGF0ZXRpbWUgYW5kIHRoZW4gZm9ybWF0IGl0IGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBsb2NhbGUgc3BlY2lmaWVkIG9uIGlvbi1kYXRldGltZS5cbiAgICAgKi9cbiAgICB0aGlzLnNldERhdGVUaW1lVGV4dCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0ZXRpbWVFbCwgZGF0ZXRpbWVQcmVzZW50YXRpb24gfSA9IHRoaXM7XG4gICAgICBpZiAoIWRhdGV0aW1lRWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2YWx1ZSwgbG9jYWxlLCBob3VyQ3ljbGUsIHByZWZlcldoZWVsLCBtdWx0aXBsZSwgdGl0bGVTZWxlY3RlZERhdGVzRm9ybWF0dGVyIH0gPSBkYXRldGltZUVsO1xuICAgICAgY29uc3QgcGFyc2VkVmFsdWVzID0gdGhpcy5nZXRQYXJzZWREYXRlVmFsdWVzKHZhbHVlKTtcbiAgICAgIC8qKlxuICAgICAgICogQm90aCBpb24tZGF0ZXRpbWUgYW5kIGlvbi1kYXRldGltZS1idXR0b24gZGVmYXVsdFxuICAgICAgICogdG8gdG9kYXkncyBkYXRlIGFuZCB0aW1lIGlmIG5vIHZhbHVlIGlzIHNldC5cbiAgICAgICAqL1xuICAgICAgY29uc3QgcGFyc2VkRGF0ZXRpbWVzID0gcGFyc2VEYXRlKHBhcnNlZFZhbHVlcy5sZW5ndGggPiAwID8gcGFyc2VkVmFsdWVzIDogW2dldFRvZGF5KCldKTtcbiAgICAgIC8qKlxuICAgICAgICogSWYgZGV2ZWxvcGVycyBpbmNvcnJlY3RseSB1c2UgbXVsdGlwbGU9XCJ0cnVlXCJcbiAgICAgICAqIHdpdGggbm9uIFwiZGF0ZVwiIGRhdGV0aW1lcywgdGhlbiBqdXN0IHNlbGVjdFxuICAgICAgICogdGhlIGZpcnN0IHZhbHVlIHNvIHRoZSBpbnRlcmZhY2UgZG9lc1xuICAgICAgICogbm90IGFwcGVhciBicm9rZW4uIERhdGV0aW1lIHdpbGwgcHJvdmlkZSBhXG4gICAgICAgKiB3YXJuaW5nIGluIHRoZSBjb25zb2xlLlxuICAgICAgICovXG4gICAgICBjb25zdCBmaXJzdFBhcnNlZERhdGV0aW1lID0gcGFyc2VkRGF0ZXRpbWVzWzBdO1xuICAgICAgY29uc3QgdXNlMjRIb3VyID0gaXMyNEhvdXIobG9jYWxlLCBob3VyQ3ljbGUpO1xuICAgICAgLy8gVE9ETyhGVy0xODY1KSAtIFJlbW92ZSBvbmNlIEZXLTE4MzEgaXMgZml4ZWQuXG4gICAgICBwYXJzZWREYXRldGltZXMuZm9yRWFjaCgocGFyc2VkRGF0ZXRpbWUpID0+IHtcbiAgICAgICAgcGFyc2VkRGF0ZXRpbWUudHpPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGF0ZVRleHQgPSB0aGlzLnRpbWVUZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgc3dpdGNoIChkYXRldGltZVByZXNlbnRhdGlvbikge1xuICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICBjYXNlICd0aW1lLWRhdGUnOlxuICAgICAgICAgIGNvbnN0IGRhdGVUZXh0ID0gZ2V0TW9udGhEYXlBbmRZZWFyKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSk7XG4gICAgICAgICAgY29uc3QgdGltZVRleHQgPSBnZXRMb2NhbGl6ZWRUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgdXNlMjRIb3VyKTtcbiAgICAgICAgICBpZiAocHJlZmVyV2hlZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBgJHtkYXRlVGV4dH0gJHt0aW1lVGV4dH1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBkYXRlVGV4dDtcbiAgICAgICAgICAgIHRoaXMudGltZVRleHQgPSB0aW1lVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgIGlmIChtdWx0aXBsZSAmJiBwYXJzZWRWYWx1ZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVyVGV4dCA9IGAke3BhcnNlZFZhbHVlcy5sZW5ndGh9IGRheXNgOyAvLyBkZWZhdWx0L2ZhbGxiYWNrIGZvciBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICh0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhlYWRlclRleHQgPSB0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIocGFyc2VkVmFsdWVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHByaW50SW9uRXJyb3IoJ0V4Y2VwdGlvbiBpbiBwcm92aWRlZCBgdGl0bGVTZWxlY3RlZERhdGVzRm9ybWF0dGVyYDogJywgZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBoZWFkZXJUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBnZXRNb250aERheUFuZFllYXIobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgIHRoaXMudGltZVRleHQgPSBnZXRMb2NhbGl6ZWRUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgdXNlMjRIb3VyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW9udGgteWVhcic6XG4gICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldE1vbnRoQW5kWWVhcihsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldExvY2FsaXplZERhdGVUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgeyBtb250aDogJ2xvbmcnIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZ2V0TG9jYWxpemVkRGF0ZVRpbWUobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lLCB7IHllYXI6ICdudW1lcmljJyB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdhaXRzIGZvciB0aGUgaW9uLWRhdGV0aW1lIHRvIHJlLXJlbmRlci5cbiAgICAgKiBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBjb3JyZWN0bHkgcG9zaXRpb25cbiAgICAgKiBhIHBvcG92ZXIgcmVsYXRpdmUgdG8gdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICB0aGlzLndhaXRGb3JEYXRldGltZUNoYW5nZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGV0aW1lRWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIWRhdGV0aW1lRWwpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZGF0ZXRpbWVFbCwgJ2lvblJlbmRlcicsIHJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVEYXRlQ2xpY2sgPSBhc3luYyAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0ZXRpbWVFbCwgZGF0ZXRpbWVQcmVzZW50YXRpb24gfSA9IHRoaXM7XG4gICAgICBpZiAoIWRhdGV0aW1lRWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlID0gZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gY2xpY2tpbmcgdGhlIGRhdGUgYnV0dG9uLFxuICAgICAgICogd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IGEgZGF0ZVxuICAgICAgICogcGlja2VyIGlzIGRpc3BsYXllZC4gRm9yIHByZXNlbnRhdGlvbiBzdHlsZXNcbiAgICAgICAqIHRoYXQgZGlzcGxheSBjb250ZW50IG90aGVyIHRoYW4gYSBkYXRlIHBpY2tlcixcbiAgICAgICAqIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwcmVzZW50YXRpb24gc3R5bGUuXG4gICAgICAgKi9cbiAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgY2FzZSAndGltZS1kYXRlJzpcbiAgICAgICAgICBjb25zdCBuZWVkc0NoYW5nZSA9IGRhdGV0aW1lRWwucHJlc2VudGF0aW9uICE9PSAnZGF0ZSc7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIGRhdGUrdGltZSB3aGVlbCBwaWNrZXJcbiAgICAgICAgICAgKiBzaG93cyBkYXRlIGFuZCB0aW1lIHRvZ2V0aGVyLFxuICAgICAgICAgICAqIHNvIGRvIG5vdCBhZGp1c3QgdGhlIHByZXNlbnRhdGlvblxuICAgICAgICAgICAqIGluIHRoYXQgY2FzZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoIWRhdGV0aW1lRWwucHJlZmVyV2hlZWwgJiYgbmVlZHNDaGFuZ2UpIHtcbiAgICAgICAgICAgIGRhdGV0aW1lRWwucHJlc2VudGF0aW9uID0gJ2RhdGUnO1xuICAgICAgICAgICAgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVHJhY2sgd2hpY2ggYnV0dG9uIHdhcyBjbGlja2VkXG4gICAgICAgKiBzbyB0aGF0IGl0IGNhbiBoYXZlIHRoZSBjb3JyZWN0XG4gICAgICAgKiBhY3RpdmF0ZWQgc3R5bGVzIGFwcGxpZWQgd2hlblxuICAgICAgICogdGhlIG1vZGFsL3BvcG92ZXIgY29udGFpbmluZ1xuICAgICAgICogdGhlIGRhdGV0aW1lIGlzIG9wZW5lZC5cbiAgICAgICAqL1xuICAgICAgdGhpcy5zZWxlY3RlZEJ1dHRvbiA9ICdkYXRlJztcbiAgICAgIHRoaXMucHJlc2VudE92ZXJsYXkoZXYsIG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlLCB0aGlzLmRhdGVUYXJnZXRFbCk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVRpbWVDbGljayA9IChldikgPT4ge1xuICAgICAgY29uc3QgeyBkYXRldGltZUVsLCBkYXRldGltZVByZXNlbnRhdGlvbiB9ID0gdGhpcztcbiAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBjbGlja2luZyB0aGUgdGltZSBidXR0b24sXG4gICAgICAgKiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IG9ubHkgYSB0aW1lXG4gICAgICAgKiBwaWNrZXIgaXMgZGlzcGxheWVkLiBGb3IgcHJlc2VudGF0aW9uIHN0eWxlc1xuICAgICAgICogdGhhdCBkaXNwbGF5IGNvbnRlbnQgb3RoZXIgdGhhbiBhIHRpbWUgcGlja2VyLFxuICAgICAgICogd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByZXNlbnRhdGlvbiBzdHlsZS5cbiAgICAgICAqL1xuICAgICAgc3dpdGNoIChkYXRldGltZVByZXNlbnRhdGlvbikge1xuICAgICAgICBjYXNlICdkYXRlLXRpbWUnOlxuICAgICAgICBjYXNlICd0aW1lLWRhdGUnOlxuICAgICAgICAgIGNvbnN0IG5lZWRzQ2hhbmdlID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gIT09ICd0aW1lJztcbiAgICAgICAgICBpZiAobmVlZHNDaGFuZ2UpIHtcbiAgICAgICAgICAgIGRhdGV0aW1lRWwucHJlc2VudGF0aW9uID0gJ3RpbWUnO1xuICAgICAgICAgICAgbmVlZHNQcmVzZW50YXRpb25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogVHJhY2sgd2hpY2ggYnV0dG9uIHdhcyBjbGlja2VkXG4gICAgICAgKiBzbyB0aGF0IGl0IGNhbiBoYXZlIHRoZSBjb3JyZWN0XG4gICAgICAgKiBhY3RpdmF0ZWQgc3R5bGVzIGFwcGxpZWQgd2hlblxuICAgICAgICogdGhlIG1vZGFsL3BvcG92ZXIgY29udGFpbmluZ1xuICAgICAgICogdGhlIGRhdGV0aW1lIGlzIG9wZW5lZC5cbiAgICAgICAqL1xuICAgICAgdGhpcy5zZWxlY3RlZEJ1dHRvbiA9ICd0aW1lJztcbiAgICAgIHRoaXMucHJlc2VudE92ZXJsYXkoZXYsIG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlLCB0aGlzLnRpbWVUYXJnZXRFbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZGF0ZXRpbWUgaXMgcHJlc2VudGVkIGluIGFuXG4gICAgICogb3ZlcmxheSwgdGhlIGRhdGV0aW1lIGFuZCBvdmVybGF5XG4gICAgICogc2hvdWxkIGJlIGFwcHJvcHJpYXRlbHkgc2l6ZWQuXG4gICAgICogVGhlc2UgY2xhc3NlcyBwcm92aWRlIGRlZmF1bHQgc2l6aW5nIHZhbHVlc1xuICAgICAqIHRoYXQgZGV2ZWxvcGVycyBjYW4gY3VzdG9taXplLlxuICAgICAqIFRoZSBnb2FsIGlzIHRvIHByb3ZpZGUgYW4gb3ZlcmxheSB0aGF0IGlzXG4gICAgICogcmVhc29uYWJseSBzaXplZCB3aXRoIGEgZGF0ZXRpbWUgdGhhdFxuICAgICAqIGZpbGxzIHRoZSBlbnRpcmUgY29udGFpbmVyLlxuICAgICAqL1xuICAgIHRoaXMucHJlc2VudE92ZXJsYXkgPSBhc3luYyAoZXYsIG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlLCB0cmlnZ2VyRWwpID0+IHtcbiAgICAgIGNvbnN0IHsgb3ZlcmxheUVsIH0gPSB0aGlzO1xuICAgICAgaWYgKCFvdmVybGF5RWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG92ZXJsYXlFbC50YWdOYW1lID09PSAnSU9OLVBPUE9WRVInKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBwcmVzZW50YXRpb24gb24gZGF0ZXRpbWUgY2hhbmdlcyxcbiAgICAgICAgICogd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgY29tcG9uZW50IHRvIHJlLXJlbmRlclxuICAgICAgICAgKiBvdGhlcndpc2UgdGhlIGNvbXB1dGVkIHdpZHRoL2hlaWdodCBvZiB0aGVcbiAgICAgICAgICogcG9wb3ZlciBjb250ZW50IHdpbGwgYmUgd3JvbmcsIGNhdXNpbmdcbiAgICAgICAgICogdGhlIHBvcG92ZXIgdG8gbm90IGFsaWduIHdpdGggdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckRhdGV0aW1lQ2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBwYXNzIHRoZSB0cmlnZ2VyIGJ1dHRvbiBlbGVtZW50XG4gICAgICAgICAqIHNvIHRoYXQgdGhlIHBvcG92ZXIgYWxpZ25zIHdpdGggdGhlIGluZGl2aWR1YWxcbiAgICAgICAgICogYnV0dG9uIHRoYXQgd2FzIGNsaWNrZWQsIG5vdCB0aGUgY29tcG9uZW50IGNvbnRhaW5lci5cbiAgICAgICAgICovXG4gICAgICAgIG92ZXJsYXlFbC5wcmVzZW50KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXYpLCB7IGRldGFpbDoge1xuICAgICAgICAgICAgaW9uU2hhZG93VGFyZ2V0OiB0cmlnZ2VyRWwsXG4gICAgICAgICAgfSB9KSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb3ZlcmxheUVsLnByZXNlbnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGNvbnN0IHsgZGF0ZXRpbWUgfSA9IHRoaXM7XG4gICAgaWYgKCFkYXRldGltZSkge1xuICAgICAgcHJpbnRJb25FcnJvcignQW4gSUQgYXNzb2NpYXRlZCB3aXRoIGFuIGlvbi1kYXRldGltZSBpbnN0YW5jZSBpcyByZXF1aXJlZCBmb3IgaW9uLWRhdGV0aW1lLWJ1dHRvbiB0byBmdW5jdGlvbiBwcm9wZXJseS4nLCB0aGlzLmVsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGF0ZXRpbWVFbCA9ICh0aGlzLmRhdGV0aW1lRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRldGltZSkpO1xuICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgcHJpbnRJb25FcnJvcihgTm8gaW9uLWRhdGV0aW1lIGluc3RhbmNlIGZvdW5kIGZvciBJRCAnJHtkYXRldGltZX0nLmAsIHRoaXMuZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW5jZSB0aGUgZGF0ZXRpbWUgY2FuIGJlIHVzZWQgaW4gYW55IGNvbnRleHQgKG92ZXJsYXlzLCBhY2NvcmRpb24sIGV0YylcbiAgICAgKiB3ZSB0cmFjayB3aGVuIGl0IGlzIHZpc2libGUgdG8gZGV0ZXJtaW5lIHdoZW4gaXQgaXMgYWN0aXZlLlxuICAgICAqIFRoaXMgaW5mb3JtcyB3aGljaCBidXR0b24gaXMgaGlnaGxpZ2h0ZWQgYXMgd2VsbCBhcyB0aGVcbiAgICAgKiBhcmlhLWV4cGFuZGVkIHN0YXRlLlxuICAgICAqL1xuICAgIGNvbnN0IGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICBjb25zdCBldiA9IGVudHJpZXNbMF07XG4gICAgICB0aGlzLmRhdGV0aW1lQWN0aXZlID0gZXYuaXNJbnRlcnNlY3Rpbmc7XG4gICAgfSwge1xuICAgICAgdGhyZXNob2xkOiAwLjAxLFxuICAgIH0pO1xuICAgIGlvLm9ic2VydmUoZGF0ZXRpbWVFbCk7XG4gICAgLyoqXG4gICAgICogR2V0IGEgcmVmZXJlbmNlIHRvIGFueSBtb2RhbC9wb3BvdmVyXG4gICAgICogdGhlIGRhdGV0aW1lIGlzIGJlaW5nIHVzZWQgaW4gc28gd2UgY2FuXG4gICAgICogY29ycmVjdGx5IHNpemUgaXQgd2hlbiBpdCBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgY29uc3Qgb3ZlcmxheUVsID0gKHRoaXMub3ZlcmxheUVsID0gZGF0ZXRpbWVFbC5jbG9zZXN0KCdpb24tbW9kYWwsIGlvbi1wb3BvdmVyJykpO1xuICAgIC8qKlxuICAgICAqIFRoZSAuaW9uLWRhdGV0aW1lLWJ1dHRvbi1vdmVybGF5IGNsYXNzIGNvbnRhaW5zXG4gICAgICogc3R5bGVzIHRoYXQgYWxsb3cgYW55IG1vZGFsL3BvcG92ZXIgdG8gYmVcbiAgICAgKiBzaXplZCBhY2NvcmRpbmcgdG8gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRhdGV0aW1lLlxuICAgICAqIElmIGRldmVsb3BlcnMgd2FudCBhIHNtYWxsZXIvbGFyZ2VyIG92ZXJsYXkgYWxsIHRoZXkgbmVlZFxuICAgICAqIHRvIGRvIGlzIGNoYW5nZSB0aGUgd2lkdGgvaGVpZ2h0IG9mIHRoZSBkYXRldGltZS5cbiAgICAgKiBBZGRpdGlvbmFsbHksIHRoaXMgbGV0cyB1cyBhdm9pZCBoYXZpbmcgdG8gc2V0XG4gICAgICogZXhwbGljaXQgd2lkdGhzIG9uIGVhY2ggdmFyaWFudCBvZiBkYXRldGltZS5cbiAgICAgKi9cbiAgICBpZiAob3ZlcmxheUVsKSB7XG4gICAgICBvdmVybGF5RWwuY2xhc3NMaXN0LmFkZCgnaW9uLWRhdGV0aW1lLWJ1dHRvbi1vdmVybGF5Jyk7XG4gICAgfVxuICAgIGNvbXBvbmVudE9uUmVhZHkoZGF0ZXRpbWVFbCwgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0ZXRpbWVQcmVzZW50YXRpb24gPSAodGhpcy5kYXRldGltZVByZXNlbnRhdGlvbiA9IGRhdGV0aW1lRWwucHJlc2VudGF0aW9uIHx8ICdkYXRlLXRpbWUnKTtcbiAgICAgIC8qKlxuICAgICAgICogU2V0IHRoZSBpbml0aWFsIGRpc3BsYXlcbiAgICAgICAqIGluIHRoZSByZW5kZXJlZCBidXR0b25zLlxuICAgICAgICpcbiAgICAgICAqIEZyb20gdGhlcmUsIHdlIG5lZWQgdG8gbGlzdGVuXG4gICAgICAgKiBmb3IgaW9uQ2hhbmdlIHRvIGJlIGVtaXR0ZWRcbiAgICAgICAqIGZyb20gZGF0ZXRpbWUgc28gd2Uga25vdyB3aGVuXG4gICAgICAgKiB0byByZS1yZW5kZXIgdGhlIGRpc3BsYXllZFxuICAgICAgICogdGV4dCBpbiB0aGUgYnV0dG9ucy5cbiAgICAgICAqL1xuICAgICAgdGhpcy5zZXREYXRlVGltZVRleHQoKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZGF0ZXRpbWVFbCwgJ2lvbkNoYW5nZScsIHRoaXMuc2V0RGF0ZVRpbWVUZXh0KTtcbiAgICAgIC8qKlxuICAgICAgICogQ29uZmlndXJlIHRoZSBpbml0aWFsIHNlbGVjdGVkIGJ1dHRvblxuICAgICAgICogaW4gdGhlIGV2ZW50IHRoYXQgdGhlIGRhdGV0aW1lIGlzIGRpc3BsYXllZFxuICAgICAgICogd2l0aG91dCBjbGlja2luZyBvbmUgb2YgdGhlIGRhdGV0aW1lIGJ1dHRvbnMuXG4gICAgICAgKiBGb3IgZXhhbXBsZSwgYSBkYXRldGltZSBjb3VsZCBiZSBleHBhbmRlZFxuICAgICAgICogaW4gYW4gYWNjb3JkaW9uLiBJbiB0aGlzIGNhc2UgdXNlcnMgb25seVxuICAgICAgICogbmVlZCB0byBjbGljayB0aGUgYWNjb3JkaW9uIGhlYWRlciB0byBzaG93XG4gICAgICAgKiB0aGUgZGF0ZXRpbWUuXG4gICAgICAgKi9cbiAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIGNhc2UgJ21vbnRoLXllYXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAnZGF0ZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAndGltZSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY29sb3IsIGRhdGVUZXh0LCB0aW1lVGV4dCwgc2VsZWN0ZWRCdXR0b24sIGRhdGV0aW1lQWN0aXZlLCBkaXNhYmxlZCB9ID0gdGhpcztcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczogY3JlYXRlQ29sb3JDbGFzc2VzKGNvbG9yLCB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgW2Ake3NlbGVjdGVkQnV0dG9ufS1hY3RpdmVgXTogZGF0ZXRpbWVBY3RpdmUsXG4gICAgICAgIFsnZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkJ106IGRpc2FibGVkLFxuICAgICAgfSkgfSwgZGF0ZVRleHQgJiYgKGgoXCJidXR0b25cIiwgeyBjbGFzczogXCJpb24tYWN0aXZhdGFibGVcIiwgaWQ6IFwiZGF0ZS1idXR0b25cIiwgXCJhcmlhLWV4cGFuZGVkXCI6IGRhdGV0aW1lQWN0aXZlID8gJ3RydWUnIDogJ2ZhbHNlJywgb25DbGljazogdGhpcy5oYW5kbGVEYXRlQ2xpY2ssIGRpc2FibGVkOiBkaXNhYmxlZCwgcGFydDogXCJuYXRpdmVcIiwgcmVmOiAoZWwpID0+ICh0aGlzLmRhdGVUYXJnZXRFbCA9IGVsKSB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiZGF0ZS10YXJnZXRcIiB9LCBkYXRlVGV4dCksIG1vZGUgPT09ICdtZCcgJiYgaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsIG51bGwpKSksIHRpbWVUZXh0ICYmIChoKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiaW9uLWFjdGl2YXRhYmxlXCIsIGlkOiBcInRpbWUtYnV0dG9uXCIsIFwiYXJpYS1leHBhbmRlZFwiOiBkYXRldGltZUFjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVGltZUNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQsIHBhcnQ6IFwibmF0aXZlXCIsIHJlZjogKGVsKSA9PiAodGhpcy50aW1lVGFyZ2V0RWwgPSBlbCkgfSwgaChcInNsb3RcIiwgeyBuYW1lOiBcInRpbWUtdGFyZ2V0XCIgfSwgdGltZVRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbkRhdGV0aW1lQnV0dG9uLnN0eWxlID0ge1xuICBpb3M6IGlvc0RhdGV0aW1lQnV0dG9uQ3NzLFxuICBtZDogbWREYXRldGltZUJ1dHRvbkNzc1xufTtcblxuZXhwb3J0IHsgRGF0ZXRpbWVCdXR0b24gYXMgaW9uX2RhdGV0aW1lX2J1dHRvbiB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiaCIsIkgiLCJIb3N0IiwiaSIsImdldEVsZW1lbnQiLCJiIiwiZ2V0SW9uTW9kZSIsImEiLCJhZGRFdmVudExpc3RlbmVyIiwiYyIsImNvbXBvbmVudE9uUmVhZHkiLCJwcmludElvbkVycm9yIiwiY3JlYXRlQ29sb3JDbGFzc2VzIiwicCIsInBhcnNlRGF0ZSIsImYiLCJnZXRUb2RheSIsIkkiLCJpczI0SG91ciIsIlIiLCJnZXRMb2NhbGl6ZWREYXRlVGltZSIsIkYiLCJnZXRNb250aEFuZFllYXIiLCJKIiwiZ2V0TG9jYWxpemVkVGltZSIsIlMiLCJnZXRNb250aERheUFuZFllYXIiLCJpb3NEYXRldGltZUJ1dHRvbkNzcyIsIm1kRGF0ZXRpbWVCdXR0b25Dc3MiLCJEYXRldGltZUJ1dHRvbiIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsImRhdGV0aW1lRWwiLCJvdmVybGF5RWwiLCJkYXRldGltZVByZXNlbnRhdGlvbiIsImRhdGV0aW1lQWN0aXZlIiwiY29sb3IiLCJkaXNhYmxlZCIsImdldFBhcnNlZERhdGVWYWx1ZXMiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIkFycmF5IiwiaXNBcnJheSIsInNldERhdGVUaW1lVGV4dCIsImxvY2FsZSIsImhvdXJDeWNsZSIsInByZWZlcldoZWVsIiwibXVsdGlwbGUiLCJ0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIiLCJwYXJzZWRWYWx1ZXMiLCJwYXJzZWREYXRldGltZXMiLCJsZW5ndGgiLCJmaXJzdFBhcnNlZERhdGV0aW1lIiwidXNlMjRIb3VyIiwiZm9yRWFjaCIsInBhcnNlZERhdGV0aW1lIiwidHpPZmZzZXQiLCJkYXRlVGV4dCIsInRpbWVUZXh0IiwiaGVhZGVyVGV4dCIsImUiLCJtb250aCIsInllYXIiLCJ3YWl0Rm9yRGF0ZXRpbWVDaGFuZ2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmNlIiwiaGFuZGxlRGF0ZUNsaWNrIiwiZXYiLCJuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSIsIm5lZWRzQ2hhbmdlIiwicHJlc2VudGF0aW9uIiwic2VsZWN0ZWRCdXR0b24iLCJwcmVzZW50T3ZlcmxheSIsImRhdGVUYXJnZXRFbCIsImhhbmRsZVRpbWVDbGljayIsInRpbWVUYXJnZXRFbCIsInRyaWdnZXJFbCIsInRhZ05hbWUiLCJwcmVzZW50IiwiT2JqZWN0IiwiYXNzaWduIiwiZGV0YWlsIiwiaW9uU2hhZG93VGFyZ2V0IiwiY29tcG9uZW50V2lsbExvYWQiLCJkYXRldGltZSIsImVsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlvIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiaXNJbnRlcnNlY3RpbmciLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiY2xvc2VzdCIsImNsYXNzTGlzdCIsImFkZCIsInJlbmRlciIsIm1vZGUiLCJjbGFzcyIsImlkIiwib25DbGljayIsInBhcnQiLCJyZWYiLCJuYW1lIiwic3R5bGUiLCJpb3MiLCJtZCIsImlvbl9kYXRldGltZV9idXR0b24iXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==