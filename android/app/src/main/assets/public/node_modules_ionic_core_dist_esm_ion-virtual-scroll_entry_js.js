"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js"],{

/***/ 2875:
/*!***********************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_virtual_scroll": () => (/* binding */ VirtualScroll)
/* harmony export */ });
/* harmony import */ var C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-8e692445.js */ 1559);
/* harmony import */ var _helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-3b390e48.js */ 9234);


/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const CELL_TYPE_ITEM = 'item';
const CELL_TYPE_HEADER = 'header';
const CELL_TYPE_FOOTER = 'footer';
const NODE_CHANGE_NONE = 0;
const NODE_CHANGE_POSITION = 1;
const NODE_CHANGE_CELL = 2;
const MIN_READS = 2;

const updateVDom = (dom, heightIndex, cells, range) => {
  // reset dom
  for (const node of dom) {
    node.change = NODE_CHANGE_NONE;
    node.d = true;
  } // try to match into exisiting dom


  const toMutate = [];
  const end = range.offset + range.length;

  for (let i = range.offset; i < end; i++) {
    const cell = cells[i];
    const node = dom.find(n => n.d && n.cell === cell);

    if (node) {
      const top = heightIndex[i];

      if (top !== node.top) {
        node.top = top;
        node.change = NODE_CHANGE_POSITION;
      }

      node.d = false;
    } else {
      toMutate.push(cell);
    }
  } // needs to append


  const pool = dom.filter(n => n.d);

  for (const cell of toMutate) {
    const node = pool.find(n => n.d && n.cell.type === cell.type);
    const index = cell.i;

    if (node) {
      node.d = false;
      node.change = NODE_CHANGE_CELL;
      node.cell = cell;
      node.top = heightIndex[index];
    } else {
      dom.push({
        d: false,
        cell,
        visible: true,
        change: NODE_CHANGE_CELL,
        top: heightIndex[index]
      });
    }
  }

  dom.filter(n => n.d && n.top !== -9999).forEach(n => {
    n.change = NODE_CHANGE_POSITION;
    n.top = -9999;
  });
};

const doRender = (el, nodeRender, dom, updateCellHeight) => {
  var _a;

  const children = Array.from(el.children).filter(n => n.tagName !== 'TEMPLATE');
  const childrenNu = children.length;
  let child;

  for (let i = 0; i < dom.length; i++) {
    const node = dom[i];
    const cell = node.cell; // the cell change, the content must be updated

    if (node.change === NODE_CHANGE_CELL) {
      if (i < childrenNu) {
        child = children[i];
        nodeRender(child, cell, i);
      } else {
        const newChild = createNode(el, cell.type);
        child = (_a = nodeRender(newChild, cell, i)) !== null && _a !== void 0 ? _a : newChild;
        child.classList.add('virtual-item');
        el.appendChild(child);
      }

      child['$ionCell'] = cell;
    } else {
      child = children[i];
    } // only update position when it changes


    if (node.change !== NODE_CHANGE_NONE) {
      child.style.transform = `translate3d(0,${node.top}px,0)`;
    } // update visibility


    const visible = cell.visible;

    if (node.visible !== visible) {
      if (visible) {
        child.classList.remove('virtual-loading');
      } else {
        child.classList.add('virtual-loading');
      }

      node.visible = visible;
    } // dynamic height


    if (cell.reads > 0) {
      updateCellHeight(cell, child);
      cell.reads--;
    }
  }
};

const createNode = (el, type) => {
  const template = getTemplate(el, type);

  if (template && el.ownerDocument !== null) {
    return el.ownerDocument.importNode(template.content, true).children[0];
  }

  return null;
};

const getTemplate = (el, type) => {
  switch (type) {
    case CELL_TYPE_ITEM:
      return el.querySelector('template:not([name])');

    case CELL_TYPE_HEADER:
      return el.querySelector('template[name=header]');

    case CELL_TYPE_FOOTER:
      return el.querySelector('template[name=footer]');
  }
};

const getViewport = (scrollTop, vierportHeight, margin) => {
  return {
    top: Math.max(scrollTop - margin, 0),
    bottom: scrollTop + vierportHeight + margin
  };
};

const getRange = (heightIndex, viewport, buffer) => {
  const topPos = viewport.top;
  const bottomPos = viewport.bottom; // find top index

  let i = 0;

  for (; i < heightIndex.length; i++) {
    if (heightIndex[i] > topPos) {
      break;
    }
  }

  const offset = Math.max(i - buffer - 1, 0); // find bottom index

  for (; i < heightIndex.length; i++) {
    if (heightIndex[i] >= bottomPos) {
      break;
    }
  }

  const end = Math.min(i + buffer, heightIndex.length);
  const length = end - offset;
  return {
    offset,
    length
  };
};

const getShouldUpdate = (dirtyIndex, currentRange, range) => {
  const end = range.offset + range.length;
  return dirtyIndex <= end || currentRange.offset !== range.offset || currentRange.length !== range.length;
};

const findCellIndex = (cells, index) => {
  const max = cells.length > 0 ? cells[cells.length - 1].index : 0;

  if (index === 0) {
    return 0;
  } else if (index === max + 1) {
    return cells.length;
  } else {
    return cells.findIndex(c => c.index === index);
  }
};

const inplaceUpdate = (dst, src, offset) => {
  if (offset === 0 && src.length >= dst.length) {
    return src;
  }

  for (let i = 0; i < src.length; i++) {
    dst[i + offset] = src[i];
  }

  return dst;
};

const calcCells = (items, itemHeight, headerHeight, footerHeight, headerFn, footerFn, approxHeaderHeight, approxFooterHeight, approxItemHeight, j, offset, len) => {
  const cells = [];
  const end = len + offset;

  for (let i = offset; i < end; i++) {
    const item = items[i];

    if (headerFn) {
      const value = headerFn(item, i, items);

      if (value != null) {
        cells.push({
          i: j++,
          type: CELL_TYPE_HEADER,
          value,
          index: i,
          height: headerHeight ? headerHeight(value, i) : approxHeaderHeight,
          reads: headerHeight ? 0 : MIN_READS,
          visible: !!headerHeight
        });
      }
    }

    cells.push({
      i: j++,
      type: CELL_TYPE_ITEM,
      value: item,
      index: i,
      height: itemHeight ? itemHeight(item, i) : approxItemHeight,
      reads: itemHeight ? 0 : MIN_READS,
      visible: !!itemHeight
    });

    if (footerFn) {
      const value = footerFn(item, i, items);

      if (value != null) {
        cells.push({
          i: j++,
          type: CELL_TYPE_FOOTER,
          value,
          index: i,
          height: footerHeight ? footerHeight(value, i) : approxFooterHeight,
          reads: footerHeight ? 0 : MIN_READS,
          visible: !!footerHeight
        });
      }
    }
  }

  return cells;
};

const calcHeightIndex = (buf, cells, index) => {
  let acum = buf[index];

  for (let i = index; i < buf.length; i++) {
    buf[i] = acum;
    acum += cells[i].height;
  }

  return acum;
};

const resizeBuffer = (buf, len) => {
  if (!buf) {
    return new Uint32Array(len);
  }

  if (buf.length === len) {
    return buf;
  } else if (len > buf.length) {
    const newBuf = new Uint32Array(len);
    newBuf.set(buf);
    return newBuf;
  } else {
    return buf.subarray(0, len);
  }
};

const positionForIndex = (index, cells, heightIndex) => {
  const cell = cells.find(c => c.type === CELL_TYPE_ITEM && c.index === index);

  if (cell) {
    return heightIndex[cell.i];
  }

  return -1;
};

const virtualScrollCss = "ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}";
const VirtualScroll = class {
  constructor(hostRef) {
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.range = {
      offset: 0,
      length: 0
    };
    this.viewportHeight = 0;
    this.cells = [];
    this.virtualDom = [];
    this.isEnabled = false;
    this.viewportOffset = 0;
    this.currentScrollTop = 0;
    this.indexDirty = 0;
    this.lastItemLen = 0;
    this.totalHeight = 0;
    /**
     * It is important to provide this
     * if virtual item height will be significantly larger than the default
     * The approximate height of each virtual item template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxItemHeight = 45;
    /**
     * The approximate height of each header template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxHeaderHeight = 30;
    /**
     * The approximate width of each footer template's cell.
     * This dimension is used to help determine how many cells should
     * be created when initialized, and to help calculate the height of
     * the scrollable area. This height value can only use `px` units.
     * Note that the actual rendered size of each cell comes from the
     * app's CSS, whereas this approximation is used to help calculate
     * initial dimensions before the item has been rendered.
     */

    this.approxFooterHeight = 30;

    this.onScroll = () => {
      this.updateVirtualScroll();
    };
  }

  itemsChanged() {
    this.calcCells();
    this.updateVirtualScroll();
  }

  componentWillLoad() {
    console.warn(`[Deprecation Warning]: ion-virtual-scroll has been deprecated and will be removed in Ionic Framework v7.0. See https://ionicframework.com/docs/angular/virtual-scroll for migration steps.`);
  }

  connectedCallback() {
    var _this = this;

    return (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = _this.el.closest('ion-content');

      if (!contentEl) {
        console.error('<ion-virtual-scroll> must be used inside an <ion-content>');
        return;
      }

      _this.scrollEl = yield contentEl.getScrollElement();
      _this.contentEl = contentEl;

      _this.calcCells();

      _this.updateState();
    })();
  }

  componentDidUpdate() {
    this.updateState();
  }

  disconnectedCallback() {
    this.scrollEl = undefined;
  }

  onResize() {
    this.calcCells();
    this.updateVirtualScroll();
  }
  /**
   * Returns the position of the virtual item at the given index.
   */


  positionForItem(index) {
    return Promise.resolve(positionForIndex(index, this.cells, this.getHeightIndex()));
  }
  /**
   * This method marks a subset of items as dirty, so they can be re-rendered. Items should be marked as
   * dirty any time the content or their style changes.
   *
   * The subset of items to be updated can are specifying by an offset and a length.
   */


  checkRange(offset, len = -1) {
    var _this2 = this;

    return (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      // TODO: kind of hacky how we do in-place updated of the cells
      // array. this part needs a complete refactor
      if (!_this2.items) {
        return;
      }

      const length = len === -1 ? _this2.items.length - offset : len;
      const cellIndex = findCellIndex(_this2.cells, offset);
      const cells = calcCells(_this2.items, _this2.itemHeight, _this2.headerHeight, _this2.footerHeight, _this2.headerFn, _this2.footerFn, _this2.approxHeaderHeight, _this2.approxFooterHeight, _this2.approxItemHeight, cellIndex, offset, length);
      _this2.cells = inplaceUpdate(_this2.cells, cells, cellIndex);
      _this2.lastItemLen = _this2.items.length;
      _this2.indexDirty = Math.max(offset - 1, 0);

      _this2.scheduleUpdate();
    })();
  }
  /**
   * This method marks the tail the items array as dirty, so they can be re-rendered.
   *
   * It's equivalent to calling:
   *
   * ```js
   * virtualScroll.checkRange(lastItemLen);
   * ```
   */


  checkEnd() {
    var _this3 = this;

    return (0,C_Users_2DAW_Documents_ionic_animales_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this3.items) {
        _this3.checkRange(_this3.lastItemLen);
      }
    })();
  }

  updateVirtualScroll() {
    // do nothing if virtual-scroll is disabled
    if (!this.isEnabled || !this.scrollEl) {
      return;
    } // unschedule future updates


    if (this.timerUpdate) {
      clearTimeout(this.timerUpdate);
      this.timerUpdate = undefined;
    } // schedule DOM operations into the stencil queue


    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.readVS.bind(this));
    (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.c)(this.writeVS.bind(this));
  }

  readVS() {
    const {
      contentEl,
      scrollEl,
      el
    } = this;
    let topOffset = 0;
    let node = el;

    while (node !== null && node !== contentEl) {
      topOffset += node.offsetTop;
      node = node.offsetParent;
    }

    this.viewportOffset = topOffset;

    if (scrollEl) {
      this.viewportHeight = scrollEl.offsetHeight;
      this.currentScrollTop = scrollEl.scrollTop;
    }
  }

  writeVS() {
    const dirtyIndex = this.indexDirty; // get visible viewport

    const scrollTop = this.currentScrollTop - this.viewportOffset;
    const viewport = getViewport(scrollTop, this.viewportHeight, 100); // compute lazily the height index

    const heightIndex = this.getHeightIndex(); // get array bounds of visible cells base in the viewport

    const range = getRange(heightIndex, viewport, 2); // fast path, do nothing

    const shouldUpdate = getShouldUpdate(dirtyIndex, this.range, range);

    if (!shouldUpdate) {
      return;
    }

    this.range = range; // in place mutation of the virtual DOM

    updateVDom(this.virtualDom, heightIndex, this.cells, range); // Write DOM
    // Different code paths taken depending of the render API used

    if (this.nodeRender) {
      doRender(this.el, this.nodeRender, this.virtualDom, this.updateCellHeight.bind(this));
    } else if (this.domRender) {
      this.domRender(this.virtualDom);
    } else if (this.renderItem) {
      (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.j)(this);
    }
  }

  updateCellHeight(cell, node) {
    const update = () => {
      if (node['$ionCell'] === cell) {
        const style = window.getComputedStyle(node);
        const height = node.offsetHeight + parseFloat(style.getPropertyValue('margin-bottom'));
        this.setCellHeight(cell, height);
      }
    };

    if (node) {
      (0,_helpers_3b390e48_js__WEBPACK_IMPORTED_MODULE_2__.c)(node, update);
    } else {
      update();
    }
  }

  setCellHeight(cell, height) {
    const index = cell.i; // the cell might changed since the height update was scheduled

    if (cell !== this.cells[index]) {
      return;
    }

    if (cell.height !== height || cell.visible !== true) {
      cell.visible = true;
      cell.height = height;
      this.indexDirty = Math.min(this.indexDirty, index);
      this.scheduleUpdate();
    }
  }

  scheduleUpdate() {
    clearTimeout(this.timerUpdate);
    this.timerUpdate = setTimeout(() => this.updateVirtualScroll(), 100);
  }

  updateState() {
    const shouldEnable = !!(this.scrollEl && this.cells.length > 0);

    if (shouldEnable !== this.isEnabled) {
      this.enableScrollEvents(shouldEnable);

      if (shouldEnable) {
        this.updateVirtualScroll();
      }
    }
  }

  calcCells() {
    if (!this.items) {
      return;
    }

    this.lastItemLen = this.items.length;
    this.cells = calcCells(this.items, this.itemHeight, this.headerHeight, this.footerHeight, this.headerFn, this.footerFn, this.approxHeaderHeight, this.approxFooterHeight, this.approxItemHeight, 0, 0, this.lastItemLen);
    this.indexDirty = 0;
  }

  getHeightIndex() {
    if (this.indexDirty !== Infinity) {
      this.calcHeightIndex(this.indexDirty);
    }

    return this.heightIndex;
  }

  calcHeightIndex(index = 0) {
    // TODO: optimize, we don't need to calculate all the cells
    this.heightIndex = resizeBuffer(this.heightIndex, this.cells.length);
    this.totalHeight = calcHeightIndex(this.heightIndex, this.cells, index);
    this.indexDirty = Infinity;
  }

  enableScrollEvents(shouldListen) {
    if (this.rmEvent) {
      this.rmEvent();
      this.rmEvent = undefined;
    }

    const scrollEl = this.scrollEl;

    if (scrollEl) {
      this.isEnabled = shouldListen;
      scrollEl.addEventListener('scroll', this.onScroll);

      this.rmEvent = () => {
        scrollEl.removeEventListener('scroll', this.onScroll);
      };
    }
  }

  renderVirtualNode(node) {
    const {
      type,
      value,
      index
    } = node.cell;

    switch (type) {
      case CELL_TYPE_ITEM:
        return this.renderItem(value, index);

      case CELL_TYPE_HEADER:
        return this.renderHeader(value, index);

      case CELL_TYPE_FOOTER:
        return this.renderFooter(value, index);
    }
  }

  render() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      style: {
        height: `${this.totalHeight}px`
      }
    }, this.renderItem && (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.h)(VirtualProxy, {
      dom: this.virtualDom
    }, this.virtualDom.map(node => this.renderVirtualNode(node))));
  }

  get el() {
    return (0,_index_8e692445_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
  }

  static get watchers() {
    return {
      "itemHeight": ["itemsChanged"],
      "headerHeight": ["itemsChanged"],
      "footerHeight": ["itemsChanged"],
      "items": ["itemsChanged"]
    };
  }

};

const VirtualProxy = ({
  dom
}, children, utils) => {
  return utils.map(children, (child, i) => {
    const node = dom[i];
    const vattrs = child.vattrs || {};
    let classes = vattrs.class || '';
    classes += 'virtual-item ';

    if (!node.visible) {
      classes += 'virtual-loading';
    }

    return Object.assign(Object.assign({}, child), {
      vattrs: Object.assign(Object.assign({}, vattrs), {
        class: classes,
        style: Object.assign(Object.assign({}, vattrs.style), {
          transform: `translate3d(0,${node.top}px,0)`
        })
      })
    });
  });
};

VirtualScroll.style = virtualScrollCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXZpcnR1YWwtc2Nyb2xsX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNYyxjQUFjLEdBQUcsTUFBdkI7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxRQUF6QjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLFFBQXpCO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsQ0FBekI7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxDQUE3QjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLENBQXpCO0FBRUEsTUFBTUMsU0FBUyxHQUFHLENBQWxCOztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLFdBQU4sRUFBbUJDLEtBQW5CLEVBQTBCQyxLQUExQixLQUFvQztFQUNyRDtFQUNBLEtBQUssTUFBTUMsSUFBWCxJQUFtQkosR0FBbkIsRUFBd0I7SUFDdEJJLElBQUksQ0FBQ0MsTUFBTCxHQUFjVixnQkFBZDtJQUNBUyxJQUFJLENBQUNFLENBQUwsR0FBUyxJQUFUO0VBQ0QsQ0FMb0QsQ0FNckQ7OztFQUNBLE1BQU1DLFFBQVEsR0FBRyxFQUFqQjtFQUNBLE1BQU1DLEdBQUcsR0FBR0wsS0FBSyxDQUFDTSxNQUFOLEdBQWVOLEtBQUssQ0FBQ08sTUFBakM7O0VBQ0EsS0FBSyxJQUFJckIsQ0FBQyxHQUFHYyxLQUFLLENBQUNNLE1BQW5CLEVBQTJCcEIsQ0FBQyxHQUFHbUIsR0FBL0IsRUFBb0NuQixDQUFDLEVBQXJDLEVBQXlDO0lBQ3ZDLE1BQU1zQixJQUFJLEdBQUdULEtBQUssQ0FBQ2IsQ0FBRCxDQUFsQjtJQUNBLE1BQU1lLElBQUksR0FBR0osR0FBRyxDQUFDWSxJQUFKLENBQVVDLENBQUQsSUFBT0EsQ0FBQyxDQUFDUCxDQUFGLElBQU9PLENBQUMsQ0FBQ0YsSUFBRixLQUFXQSxJQUFsQyxDQUFiOztJQUNBLElBQUlQ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QWEsQ0FBQ3ZELEtBQWQsR0FBc0JzRCxnQkFBdEIiLCJzb3VyY2VzIjpbIi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi12aXJ0dWFsLXNjcm9sbC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBmIGFzIHJlYWRUYXNrLCBjIGFzIHdyaXRlVGFzaywgaiBhcyBmb3JjZVVwZGF0ZSwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LThlNjkyNDQ1LmpzJztcbmltcG9ydCB7IGMgYXMgY29tcG9uZW50T25SZWFkeSB9IGZyb20gJy4vaGVscGVycy0zYjM5MGU0OC5qcyc7XG5cbmNvbnN0IENFTExfVFlQRV9JVEVNID0gJ2l0ZW0nO1xuY29uc3QgQ0VMTF9UWVBFX0hFQURFUiA9ICdoZWFkZXInO1xuY29uc3QgQ0VMTF9UWVBFX0ZPT1RFUiA9ICdmb290ZXInO1xuY29uc3QgTk9ERV9DSEFOR0VfTk9ORSA9IDA7XG5jb25zdCBOT0RFX0NIQU5HRV9QT1NJVElPTiA9IDE7XG5jb25zdCBOT0RFX0NIQU5HRV9DRUxMID0gMjtcblxuY29uc3QgTUlOX1JFQURTID0gMjtcbmNvbnN0IHVwZGF0ZVZEb20gPSAoZG9tLCBoZWlnaHRJbmRleCwgY2VsbHMsIHJhbmdlKSA9PiB7XG4gIC8vIHJlc2V0IGRvbVxuICBmb3IgKGNvbnN0IG5vZGUgb2YgZG9tKSB7XG4gICAgbm9kZS5jaGFuZ2UgPSBOT0RFX0NIQU5HRV9OT05FO1xuICAgIG5vZGUuZCA9IHRydWU7XG4gIH1cbiAgLy8gdHJ5IHRvIG1hdGNoIGludG8gZXhpc2l0aW5nIGRvbVxuICBjb25zdCB0b011dGF0ZSA9IFtdO1xuICBjb25zdCBlbmQgPSByYW5nZS5vZmZzZXQgKyByYW5nZS5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSByYW5nZS5vZmZzZXQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIGNvbnN0IGNlbGwgPSBjZWxsc1tpXTtcbiAgICBjb25zdCBub2RlID0gZG9tLmZpbmQoKG4pID0+IG4uZCAmJiBuLmNlbGwgPT09IGNlbGwpO1xuICAgIGlmIChub2RlKSB7XG4gICAgICBjb25zdCB0b3AgPSBoZWlnaHRJbmRleFtpXTtcbiAgICAgIGlmICh0b3AgIT09IG5vZGUudG9wKSB7XG4gICAgICAgIG5vZGUudG9wID0gdG9wO1xuICAgICAgICBub2RlLmNoYW5nZSA9IE5PREVfQ0hBTkdFX1BPU0lUSU9OO1xuICAgICAgfVxuICAgICAgbm9kZS5kID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9NdXRhdGUucHVzaChjZWxsKTtcbiAgICB9XG4gIH1cbiAgLy8gbmVlZHMgdG8gYXBwZW5kXG4gIGNvbnN0IHBvb2wgPSBkb20uZmlsdGVyKChuKSA9PiBuLmQpO1xuICBmb3IgKGNvbnN0IGNlbGwgb2YgdG9NdXRhdGUpIHtcbiAgICBjb25zdCBub2RlID0gcG9vbC5maW5kKChuKSA9PiBuLmQgJiYgbi5jZWxsLnR5cGUgPT09IGNlbGwudHlwZSk7XG4gICAgY29uc3QgaW5kZXggPSBjZWxsLmk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGUuZCA9IGZhbHNlO1xuICAgICAgbm9kZS5jaGFuZ2UgPSBOT0RFX0NIQU5HRV9DRUxMO1xuICAgICAgbm9kZS5jZWxsID0gY2VsbDtcbiAgICAgIG5vZGUudG9wID0gaGVpZ2h0SW5kZXhbaW5kZXhdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRvbS5wdXNoKHtcbiAgICAgICAgZDogZmFsc2UsXG4gICAgICAgIGNlbGwsXG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGNoYW5nZTogTk9ERV9DSEFOR0VfQ0VMTCxcbiAgICAgICAgdG9wOiBoZWlnaHRJbmRleFtpbmRleF0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZG9tXG4gICAgLmZpbHRlcigobikgPT4gbi5kICYmIG4udG9wICE9PSAtOTk5OSlcbiAgICAuZm9yRWFjaCgobikgPT4ge1xuICAgIG4uY2hhbmdlID0gTk9ERV9DSEFOR0VfUE9TSVRJT047XG4gICAgbi50b3AgPSAtOTk5OTtcbiAgfSk7XG59O1xuY29uc3QgZG9SZW5kZXIgPSAoZWwsIG5vZGVSZW5kZXIsIGRvbSwgdXBkYXRlQ2VsbEhlaWdodCkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShlbC5jaGlsZHJlbikuZmlsdGVyKChuKSA9PiBuLnRhZ05hbWUgIT09ICdURU1QTEFURScpO1xuICBjb25zdCBjaGlsZHJlbk51ID0gY2hpbGRyZW4ubGVuZ3RoO1xuICBsZXQgY2hpbGQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvbVtpXTtcbiAgICBjb25zdCBjZWxsID0gbm9kZS5jZWxsO1xuICAgIC8vIHRoZSBjZWxsIGNoYW5nZSwgdGhlIGNvbnRlbnQgbXVzdCBiZSB1cGRhdGVkXG4gICAgaWYgKG5vZGUuY2hhbmdlID09PSBOT0RFX0NIQU5HRV9DRUxMKSB7XG4gICAgICBpZiAoaSA8IGNoaWxkcmVuTnUpIHtcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgbm9kZVJlbmRlcihjaGlsZCwgY2VsbCwgaSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3Q2hpbGQgPSBjcmVhdGVOb2RlKGVsLCBjZWxsLnR5cGUpO1xuICAgICAgICBjaGlsZCA9IChfYSA9IG5vZGVSZW5kZXIobmV3Q2hpbGQsIGNlbGwsIGkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXdDaGlsZDtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgndmlydHVhbC1pdGVtJyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkWyckaW9uQ2VsbCddID0gY2VsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIH1cbiAgICAvLyBvbmx5IHVwZGF0ZSBwb3NpdGlvbiB3aGVuIGl0IGNoYW5nZXNcbiAgICBpZiAobm9kZS5jaGFuZ2UgIT09IE5PREVfQ0hBTkdFX05PTkUpIHtcbiAgICAgIGNoaWxkLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCR7bm9kZS50b3B9cHgsMClgO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdmlzaWJpbGl0eVxuICAgIGNvbnN0IHZpc2libGUgPSBjZWxsLnZpc2libGU7XG4gICAgaWYgKG5vZGUudmlzaWJsZSAhPT0gdmlzaWJsZSkge1xuICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgndmlydHVhbC1sb2FkaW5nJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgndmlydHVhbC1sb2FkaW5nJyk7XG4gICAgICB9XG4gICAgICBub2RlLnZpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cbiAgICAvLyBkeW5hbWljIGhlaWdodFxuICAgIGlmIChjZWxsLnJlYWRzID4gMCkge1xuICAgICAgdXBkYXRlQ2VsbEhlaWdodChjZWxsLCBjaGlsZCk7XG4gICAgICBjZWxsLnJlYWRzLS07XG4gICAgfVxuICB9XG59O1xuY29uc3QgY3JlYXRlTm9kZSA9IChlbCwgdHlwZSkgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGVsLCB0eXBlKTtcbiAgaWYgKHRlbXBsYXRlICYmIGVsLm93bmVyRG9jdW1lbnQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZWwub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKHRlbXBsYXRlLmNvbnRlbnQsIHRydWUpLmNoaWxkcmVuWzBdO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGdldFRlbXBsYXRlID0gKGVsLCB0eXBlKSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgQ0VMTF9UWVBFX0lURU06XG4gICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcigndGVtcGxhdGU6bm90KFtuYW1lXSknKTtcbiAgICBjYXNlIENFTExfVFlQRV9IRUFERVI6XG4gICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcigndGVtcGxhdGVbbmFtZT1oZWFkZXJdJyk7XG4gICAgY2FzZSBDRUxMX1RZUEVfRk9PVEVSOlxuICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlW25hbWU9Zm9vdGVyXScpO1xuICB9XG59O1xuY29uc3QgZ2V0Vmlld3BvcnQgPSAoc2Nyb2xsVG9wLCB2aWVycG9ydEhlaWdodCwgbWFyZ2luKSA9PiB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBNYXRoLm1heChzY3JvbGxUb3AgLSBtYXJnaW4sIDApLFxuICAgIGJvdHRvbTogc2Nyb2xsVG9wICsgdmllcnBvcnRIZWlnaHQgKyBtYXJnaW4sXG4gIH07XG59O1xuY29uc3QgZ2V0UmFuZ2UgPSAoaGVpZ2h0SW5kZXgsIHZpZXdwb3J0LCBidWZmZXIpID0+IHtcbiAgY29uc3QgdG9wUG9zID0gdmlld3BvcnQudG9wO1xuICBjb25zdCBib3R0b21Qb3MgPSB2aWV3cG9ydC5ib3R0b207XG4gIC8vIGZpbmQgdG9wIGluZGV4XG4gIGxldCBpID0gMDtcbiAgZm9yICg7IGkgPCBoZWlnaHRJbmRleC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoZWlnaHRJbmRleFtpXSA+IHRvcFBvcykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KGkgLSBidWZmZXIgLSAxLCAwKTtcbiAgLy8gZmluZCBib3R0b20gaW5kZXhcbiAgZm9yICg7IGkgPCBoZWlnaHRJbmRleC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoZWlnaHRJbmRleFtpXSA+PSBib3R0b21Qb3MpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjb25zdCBlbmQgPSBNYXRoLm1pbihpICsgYnVmZmVyLCBoZWlnaHRJbmRleC5sZW5ndGgpO1xuICBjb25zdCBsZW5ndGggPSBlbmQgLSBvZmZzZXQ7XG4gIHJldHVybiB7IG9mZnNldCwgbGVuZ3RoIH07XG59O1xuY29uc3QgZ2V0U2hvdWxkVXBkYXRlID0gKGRpcnR5SW5kZXgsIGN1cnJlbnRSYW5nZSwgcmFuZ2UpID0+IHtcbiAgY29uc3QgZW5kID0gcmFuZ2Uub2Zmc2V0ICsgcmFuZ2UubGVuZ3RoO1xuICByZXR1cm4gZGlydHlJbmRleCA8PSBlbmQgfHwgY3VycmVudFJhbmdlLm9mZnNldCAhPT0gcmFuZ2Uub2Zmc2V0IHx8IGN1cnJlbnRSYW5nZS5sZW5ndGggIT09IHJhbmdlLmxlbmd0aDtcbn07XG5jb25zdCBmaW5kQ2VsbEluZGV4ID0gKGNlbGxzLCBpbmRleCkgPT4ge1xuICBjb25zdCBtYXggPSBjZWxscy5sZW5ndGggPiAwID8gY2VsbHNbY2VsbHMubGVuZ3RoIC0gMV0uaW5kZXggOiAwO1xuICBpZiAoaW5kZXggPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBlbHNlIGlmIChpbmRleCA9PT0gbWF4ICsgMSkge1xuICAgIHJldHVybiBjZWxscy5sZW5ndGg7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGNlbGxzLmZpbmRJbmRleCgoYykgPT4gYy5pbmRleCA9PT0gaW5kZXgpO1xuICB9XG59O1xuY29uc3QgaW5wbGFjZVVwZGF0ZSA9IChkc3QsIHNyYywgb2Zmc2V0KSA9PiB7XG4gIGlmIChvZmZzZXQgPT09IDAgJiYgc3JjLmxlbmd0aCA+PSBkc3QubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNyYztcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXTtcbiAgfVxuICByZXR1cm4gZHN0O1xufTtcbmNvbnN0IGNhbGNDZWxscyA9IChpdGVtcywgaXRlbUhlaWdodCwgaGVhZGVySGVpZ2h0LCBmb290ZXJIZWlnaHQsIGhlYWRlckZuLCBmb290ZXJGbiwgYXBwcm94SGVhZGVySGVpZ2h0LCBhcHByb3hGb290ZXJIZWlnaHQsIGFwcHJveEl0ZW1IZWlnaHQsIGosIG9mZnNldCwgbGVuKSA9PiB7XG4gIGNvbnN0IGNlbGxzID0gW107XG4gIGNvbnN0IGVuZCA9IGxlbiArIG9mZnNldDtcbiAgZm9yIChsZXQgaSA9IG9mZnNldDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgIGlmIChoZWFkZXJGbikge1xuICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXJGbihpdGVtLCBpLCBpdGVtcyk7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjZWxscy5wdXNoKHtcbiAgICAgICAgICBpOiBqKyssXG4gICAgICAgICAgdHlwZTogQ0VMTF9UWVBFX0hFQURFUixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICBoZWlnaHQ6IGhlYWRlckhlaWdodCA/IGhlYWRlckhlaWdodCh2YWx1ZSwgaSkgOiBhcHByb3hIZWFkZXJIZWlnaHQsXG4gICAgICAgICAgcmVhZHM6IGhlYWRlckhlaWdodCA/IDAgOiBNSU5fUkVBRFMsXG4gICAgICAgICAgdmlzaWJsZTogISFoZWFkZXJIZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjZWxscy5wdXNoKHtcbiAgICAgIGk6IGorKyxcbiAgICAgIHR5cGU6IENFTExfVFlQRV9JVEVNLFxuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBpbmRleDogaSxcbiAgICAgIGhlaWdodDogaXRlbUhlaWdodCA/IGl0ZW1IZWlnaHQoaXRlbSwgaSkgOiBhcHByb3hJdGVtSGVpZ2h0LFxuICAgICAgcmVhZHM6IGl0ZW1IZWlnaHQgPyAwIDogTUlOX1JFQURTLFxuICAgICAgdmlzaWJsZTogISFpdGVtSGVpZ2h0LFxuICAgIH0pO1xuICAgIGlmIChmb290ZXJGbikge1xuICAgICAgY29uc3QgdmFsdWUgPSBmb290ZXJGbihpdGVtLCBpLCBpdGVtcyk7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjZWxscy5wdXNoKHtcbiAgICAgICAgICBpOiBqKyssXG4gICAgICAgICAgdHlwZTogQ0VMTF9UWVBFX0ZPT1RFUixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICBoZWlnaHQ6IGZvb3RlckhlaWdodCA/IGZvb3RlckhlaWdodCh2YWx1ZSwgaSkgOiBhcHByb3hGb290ZXJIZWlnaHQsXG4gICAgICAgICAgcmVhZHM6IGZvb3RlckhlaWdodCA/IDAgOiBNSU5fUkVBRFMsXG4gICAgICAgICAgdmlzaWJsZTogISFmb290ZXJIZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2VsbHM7XG59O1xuY29uc3QgY2FsY0hlaWdodEluZGV4ID0gKGJ1ZiwgY2VsbHMsIGluZGV4KSA9PiB7XG4gIGxldCBhY3VtID0gYnVmW2luZGV4XTtcbiAgZm9yIChsZXQgaSA9IGluZGV4OyBpIDwgYnVmLmxlbmd0aDsgaSsrKSB7XG4gICAgYnVmW2ldID0gYWN1bTtcbiAgICBhY3VtICs9IGNlbGxzW2ldLmhlaWdodDtcbiAgfVxuICByZXR1cm4gYWN1bTtcbn07XG5jb25zdCByZXNpemVCdWZmZXIgPSAoYnVmLCBsZW4pID0+IHtcbiAgaWYgKCFidWYpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KGxlbik7XG4gIH1cbiAgaWYgKGJ1Zi5sZW5ndGggPT09IGxlbikge1xuICAgIHJldHVybiBidWY7XG4gIH1cbiAgZWxzZSBpZiAobGVuID4gYnVmLmxlbmd0aCkge1xuICAgIGNvbnN0IG5ld0J1ZiA9IG5ldyBVaW50MzJBcnJheShsZW4pO1xuICAgIG5ld0J1Zi5zZXQoYnVmKTtcbiAgICByZXR1cm4gbmV3QnVmO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBidWYuc3ViYXJyYXkoMCwgbGVuKTtcbiAgfVxufTtcbmNvbnN0IHBvc2l0aW9uRm9ySW5kZXggPSAoaW5kZXgsIGNlbGxzLCBoZWlnaHRJbmRleCkgPT4ge1xuICBjb25zdCBjZWxsID0gY2VsbHMuZmluZCgoYykgPT4gYy50eXBlID09PSBDRUxMX1RZUEVfSVRFTSAmJiBjLmluZGV4ID09PSBpbmRleCk7XG4gIGlmIChjZWxsKSB7XG4gICAgcmV0dXJuIGhlaWdodEluZGV4W2NlbGwuaV07XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcblxuY29uc3QgdmlydHVhbFNjcm9sbENzcyA9IFwiaW9uLXZpcnR1YWwtc2Nyb2xse2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtjb250YWluOnN0cmljdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9aW9uLXZpcnR1YWwtc2Nyb2xsPi52aXJ0dWFsLWxvYWRpbmd7b3BhY2l0eTowfWlvbi12aXJ0dWFsLXNjcm9sbD4udmlydHVhbC1pdGVte3Bvc2l0aW9uOmFic29sdXRlICFpbXBvcnRhbnQ7dG9wOjAgIWltcG9ydGFudDtyaWdodDowICFpbXBvcnRhbnQ7bGVmdDowICFpbXBvcnRhbnQ7LXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOjBtczt0cmFuc2l0aW9uLWR1cmF0aW9uOjBtczt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19XCI7XG5cbmNvbnN0IFZpcnR1YWxTY3JvbGwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMucmFuZ2UgPSB7IG9mZnNldDogMCwgbGVuZ3RoOiAwIH07XG4gICAgdGhpcy52aWV3cG9ydEhlaWdodCA9IDA7XG4gICAgdGhpcy5jZWxscyA9IFtdO1xuICAgIHRoaXMudmlydHVhbERvbSA9IFtdO1xuICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy52aWV3cG9ydE9mZnNldCA9IDA7XG4gICAgdGhpcy5jdXJyZW50U2Nyb2xsVG9wID0gMDtcbiAgICB0aGlzLmluZGV4RGlydHkgPSAwO1xuICAgIHRoaXMubGFzdEl0ZW1MZW4gPSAwO1xuICAgIHRoaXMudG90YWxIZWlnaHQgPSAwO1xuICAgIC8qKlxuICAgICAqIEl0IGlzIGltcG9ydGFudCB0byBwcm92aWRlIHRoaXNcbiAgICAgKiBpZiB2aXJ0dWFsIGl0ZW0gaGVpZ2h0IHdpbGwgYmUgc2lnbmlmaWNhbnRseSBsYXJnZXIgdGhhbiB0aGUgZGVmYXVsdFxuICAgICAqIFRoZSBhcHByb3hpbWF0ZSBoZWlnaHQgb2YgZWFjaCB2aXJ0dWFsIGl0ZW0gdGVtcGxhdGUncyBjZWxsLlxuICAgICAqIFRoaXMgZGltZW5zaW9uIGlzIHVzZWQgdG8gaGVscCBkZXRlcm1pbmUgaG93IG1hbnkgY2VsbHMgc2hvdWxkXG4gICAgICogYmUgY3JlYXRlZCB3aGVuIGluaXRpYWxpemVkLCBhbmQgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCBvZlxuICAgICAqIHRoZSBzY3JvbGxhYmxlIGFyZWEuIFRoaXMgaGVpZ2h0IHZhbHVlIGNhbiBvbmx5IHVzZSBgcHhgIHVuaXRzLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgYWN0dWFsIHJlbmRlcmVkIHNpemUgb2YgZWFjaCBjZWxsIGNvbWVzIGZyb20gdGhlXG4gICAgICogYXBwJ3MgQ1NTLCB3aGVyZWFzIHRoaXMgYXBwcm94aW1hdGlvbiBpcyB1c2VkIHRvIGhlbHAgY2FsY3VsYXRlXG4gICAgICogaW5pdGlhbCBkaW1lbnNpb25zIGJlZm9yZSB0aGUgaXRlbSBoYXMgYmVlbiByZW5kZXJlZC5cbiAgICAgKi9cbiAgICB0aGlzLmFwcHJveEl0ZW1IZWlnaHQgPSA0NTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwcm94aW1hdGUgaGVpZ2h0IG9mIGVhY2ggaGVhZGVyIHRlbXBsYXRlJ3MgY2VsbC5cbiAgICAgKiBUaGlzIGRpbWVuc2lvbiBpcyB1c2VkIHRvIGhlbHAgZGV0ZXJtaW5lIGhvdyBtYW55IGNlbGxzIHNob3VsZFxuICAgICAqIGJlIGNyZWF0ZWQgd2hlbiBpbml0aWFsaXplZCwgYW5kIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgb2ZcbiAgICAgKiB0aGUgc2Nyb2xsYWJsZSBhcmVhLiBUaGlzIGhlaWdodCB2YWx1ZSBjYW4gb25seSB1c2UgYHB4YCB1bml0cy5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIGFjdHVhbCByZW5kZXJlZCBzaXplIG9mIGVhY2ggY2VsbCBjb21lcyBmcm9tIHRoZVxuICAgICAqIGFwcCdzIENTUywgd2hlcmVhcyB0aGlzIGFwcHJveGltYXRpb24gaXMgdXNlZCB0byBoZWxwIGNhbGN1bGF0ZVxuICAgICAqIGluaXRpYWwgZGltZW5zaW9ucyBiZWZvcmUgdGhlIGl0ZW0gaGFzIGJlZW4gcmVuZGVyZWQuXG4gICAgICovXG4gICAgdGhpcy5hcHByb3hIZWFkZXJIZWlnaHQgPSAzMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwcm94aW1hdGUgd2lkdGggb2YgZWFjaCBmb290ZXIgdGVtcGxhdGUncyBjZWxsLlxuICAgICAqIFRoaXMgZGltZW5zaW9uIGlzIHVzZWQgdG8gaGVscCBkZXRlcm1pbmUgaG93IG1hbnkgY2VsbHMgc2hvdWxkXG4gICAgICogYmUgY3JlYXRlZCB3aGVuIGluaXRpYWxpemVkLCBhbmQgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCBvZlxuICAgICAqIHRoZSBzY3JvbGxhYmxlIGFyZWEuIFRoaXMgaGVpZ2h0IHZhbHVlIGNhbiBvbmx5IHVzZSBgcHhgIHVuaXRzLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgYWN0dWFsIHJlbmRlcmVkIHNpemUgb2YgZWFjaCBjZWxsIGNvbWVzIGZyb20gdGhlXG4gICAgICogYXBwJ3MgQ1NTLCB3aGVyZWFzIHRoaXMgYXBwcm94aW1hdGlvbiBpcyB1c2VkIHRvIGhlbHAgY2FsY3VsYXRlXG4gICAgICogaW5pdGlhbCBkaW1lbnNpb25zIGJlZm9yZSB0aGUgaXRlbSBoYXMgYmVlbiByZW5kZXJlZC5cbiAgICAgKi9cbiAgICB0aGlzLmFwcHJveEZvb3RlckhlaWdodCA9IDMwO1xuICAgIHRoaXMub25TY3JvbGwgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVZpcnR1YWxTY3JvbGwoKTtcbiAgICB9O1xuICB9XG4gIGl0ZW1zQ2hhbmdlZCgpIHtcbiAgICB0aGlzLmNhbGNDZWxscygpO1xuICAgIHRoaXMudXBkYXRlVmlydHVhbFNjcm9sbCgpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGNvbnNvbGUud2FybihgW0RlcHJlY2F0aW9uIFdhcm5pbmddOiBpb24tdmlydHVhbC1zY3JvbGwgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIElvbmljIEZyYW1ld29yayB2Ny4wLiBTZWUgaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9hbmd1bGFyL3ZpcnR1YWwtc2Nyb2xsIGZvciBtaWdyYXRpb24gc3RlcHMuYCk7XG4gIH1cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gdGhpcy5lbC5jbG9zZXN0KCdpb24tY29udGVudCcpO1xuICAgIGlmICghY29udGVudEVsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCc8aW9uLXZpcnR1YWwtc2Nyb2xsPiBtdXN0IGJlIHVzZWQgaW5zaWRlIGFuIDxpb24tY29udGVudD4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zY3JvbGxFbCA9IGF3YWl0IGNvbnRlbnRFbC5nZXRTY3JvbGxFbGVtZW50KCk7XG4gICAgdGhpcy5jb250ZW50RWwgPSBjb250ZW50RWw7XG4gICAgdGhpcy5jYWxjQ2VsbHMoKTtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlKCk7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMudXBkYXRlU3RhdGUoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnNjcm9sbEVsID0gdW5kZWZpbmVkO1xuICB9XG4gIG9uUmVzaXplKCkge1xuICAgIHRoaXMuY2FsY0NlbGxzKCk7XG4gICAgdGhpcy51cGRhdGVWaXJ0dWFsU2Nyb2xsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSB2aXJ0dWFsIGl0ZW0gYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgKi9cbiAgcG9zaXRpb25Gb3JJdGVtKGluZGV4KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwb3NpdGlvbkZvckluZGV4KGluZGV4LCB0aGlzLmNlbGxzLCB0aGlzLmdldEhlaWdodEluZGV4KCkpKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBtZXRob2QgbWFya3MgYSBzdWJzZXQgb2YgaXRlbXMgYXMgZGlydHksIHNvIHRoZXkgY2FuIGJlIHJlLXJlbmRlcmVkLiBJdGVtcyBzaG91bGQgYmUgbWFya2VkIGFzXG4gICAqIGRpcnR5IGFueSB0aW1lIHRoZSBjb250ZW50IG9yIHRoZWlyIHN0eWxlIGNoYW5nZXMuXG4gICAqXG4gICAqIFRoZSBzdWJzZXQgb2YgaXRlbXMgdG8gYmUgdXBkYXRlZCBjYW4gYXJlIHNwZWNpZnlpbmcgYnkgYW4gb2Zmc2V0IGFuZCBhIGxlbmd0aC5cbiAgICovXG4gIGFzeW5jIGNoZWNrUmFuZ2Uob2Zmc2V0LCBsZW4gPSAtMSkge1xuICAgIC8vIFRPRE86IGtpbmQgb2YgaGFja3kgaG93IHdlIGRvIGluLXBsYWNlIHVwZGF0ZWQgb2YgdGhlIGNlbGxzXG4gICAgLy8gYXJyYXkuIHRoaXMgcGFydCBuZWVkcyBhIGNvbXBsZXRlIHJlZmFjdG9yXG4gICAgaWYgKCF0aGlzLml0ZW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxlbmd0aCA9IGxlbiA9PT0gLTEgPyB0aGlzLml0ZW1zLmxlbmd0aCAtIG9mZnNldCA6IGxlbjtcbiAgICBjb25zdCBjZWxsSW5kZXggPSBmaW5kQ2VsbEluZGV4KHRoaXMuY2VsbHMsIG9mZnNldCk7XG4gICAgY29uc3QgY2VsbHMgPSBjYWxjQ2VsbHModGhpcy5pdGVtcywgdGhpcy5pdGVtSGVpZ2h0LCB0aGlzLmhlYWRlckhlaWdodCwgdGhpcy5mb290ZXJIZWlnaHQsIHRoaXMuaGVhZGVyRm4sIHRoaXMuZm9vdGVyRm4sIHRoaXMuYXBwcm94SGVhZGVySGVpZ2h0LCB0aGlzLmFwcHJveEZvb3RlckhlaWdodCwgdGhpcy5hcHByb3hJdGVtSGVpZ2h0LCBjZWxsSW5kZXgsIG9mZnNldCwgbGVuZ3RoKTtcbiAgICB0aGlzLmNlbGxzID0gaW5wbGFjZVVwZGF0ZSh0aGlzLmNlbGxzLCBjZWxscywgY2VsbEluZGV4KTtcbiAgICB0aGlzLmxhc3RJdGVtTGVuID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgdGhpcy5pbmRleERpcnR5ID0gTWF0aC5tYXgob2Zmc2V0IC0gMSwgMCk7XG4gICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgdGFpbCB0aGUgaXRlbXMgYXJyYXkgYXMgZGlydHksIHNvIHRoZXkgY2FuIGJlIHJlLXJlbmRlcmVkLlxuICAgKlxuICAgKiBJdCdzIGVxdWl2YWxlbnQgdG8gY2FsbGluZzpcbiAgICpcbiAgICogYGBganNcbiAgICogdmlydHVhbFNjcm9sbC5jaGVja1JhbmdlKGxhc3RJdGVtTGVuKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjaGVja0VuZCgpIHtcbiAgICBpZiAodGhpcy5pdGVtcykge1xuICAgICAgdGhpcy5jaGVja1JhbmdlKHRoaXMubGFzdEl0ZW1MZW4pO1xuICAgIH1cbiAgfVxuICB1cGRhdGVWaXJ0dWFsU2Nyb2xsKCkge1xuICAgIC8vIGRvIG5vdGhpbmcgaWYgdmlydHVhbC1zY3JvbGwgaXMgZGlzYWJsZWRcbiAgICBpZiAoIXRoaXMuaXNFbmFibGVkIHx8ICF0aGlzLnNjcm9sbEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHVuc2NoZWR1bGUgZnV0dXJlIHVwZGF0ZXNcbiAgICBpZiAodGhpcy50aW1lclVwZGF0ZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJVcGRhdGUpO1xuICAgICAgdGhpcy50aW1lclVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gc2NoZWR1bGUgRE9NIG9wZXJhdGlvbnMgaW50byB0aGUgc3RlbmNpbCBxdWV1ZVxuICAgIHJlYWRUYXNrKHRoaXMucmVhZFZTLmJpbmQodGhpcykpO1xuICAgIHdyaXRlVGFzayh0aGlzLndyaXRlVlMuYmluZCh0aGlzKSk7XG4gIH1cbiAgcmVhZFZTKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsLCBzY3JvbGxFbCwgZWwgfSA9IHRoaXM7XG4gICAgbGV0IHRvcE9mZnNldCA9IDA7XG4gICAgbGV0IG5vZGUgPSBlbDtcbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCAmJiBub2RlICE9PSBjb250ZW50RWwpIHtcbiAgICAgIHRvcE9mZnNldCArPSBub2RlLm9mZnNldFRvcDtcbiAgICAgIG5vZGUgPSBub2RlLm9mZnNldFBhcmVudDtcbiAgICB9XG4gICAgdGhpcy52aWV3cG9ydE9mZnNldCA9IHRvcE9mZnNldDtcbiAgICBpZiAoc2Nyb2xsRWwpIHtcbiAgICAgIHRoaXMudmlld3BvcnRIZWlnaHQgPSBzY3JvbGxFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICB0aGlzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxFbC5zY3JvbGxUb3A7XG4gICAgfVxuICB9XG4gIHdyaXRlVlMoKSB7XG4gICAgY29uc3QgZGlydHlJbmRleCA9IHRoaXMuaW5kZXhEaXJ0eTtcbiAgICAvLyBnZXQgdmlzaWJsZSB2aWV3cG9ydFxuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHRoaXMuY3VycmVudFNjcm9sbFRvcCAtIHRoaXMudmlld3BvcnRPZmZzZXQ7XG4gICAgY29uc3Qgdmlld3BvcnQgPSBnZXRWaWV3cG9ydChzY3JvbGxUb3AsIHRoaXMudmlld3BvcnRIZWlnaHQsIDEwMCk7XG4gICAgLy8gY29tcHV0ZSBsYXppbHkgdGhlIGhlaWdodCBpbmRleFxuICAgIGNvbnN0IGhlaWdodEluZGV4ID0gdGhpcy5nZXRIZWlnaHRJbmRleCgpO1xuICAgIC8vIGdldCBhcnJheSBib3VuZHMgb2YgdmlzaWJsZSBjZWxscyBiYXNlIGluIHRoZSB2aWV3cG9ydFxuICAgIGNvbnN0IHJhbmdlID0gZ2V0UmFuZ2UoaGVpZ2h0SW5kZXgsIHZpZXdwb3J0LCAyKTtcbiAgICAvLyBmYXN0IHBhdGgsIGRvIG5vdGhpbmdcbiAgICBjb25zdCBzaG91bGRVcGRhdGUgPSBnZXRTaG91bGRVcGRhdGUoZGlydHlJbmRleCwgdGhpcy5yYW5nZSwgcmFuZ2UpO1xuICAgIGlmICghc2hvdWxkVXBkYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICAvLyBpbiBwbGFjZSBtdXRhdGlvbiBvZiB0aGUgdmlydHVhbCBET01cbiAgICB1cGRhdGVWRG9tKHRoaXMudmlydHVhbERvbSwgaGVpZ2h0SW5kZXgsIHRoaXMuY2VsbHMsIHJhbmdlKTtcbiAgICAvLyBXcml0ZSBET01cbiAgICAvLyBEaWZmZXJlbnQgY29kZSBwYXRocyB0YWtlbiBkZXBlbmRpbmcgb2YgdGhlIHJlbmRlciBBUEkgdXNlZFxuICAgIGlmICh0aGlzLm5vZGVSZW5kZXIpIHtcbiAgICAgIGRvUmVuZGVyKHRoaXMuZWwsIHRoaXMubm9kZVJlbmRlciwgdGhpcy52aXJ0dWFsRG9tLCB0aGlzLnVwZGF0ZUNlbGxIZWlnaHQuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuZG9tUmVuZGVyKSB7XG4gICAgICB0aGlzLmRvbVJlbmRlcih0aGlzLnZpcnR1YWxEb20pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnJlbmRlckl0ZW0pIHtcbiAgICAgIGZvcmNlVXBkYXRlKHRoaXMpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVDZWxsSGVpZ2h0KGNlbGwsIG5vZGUpIHtcbiAgICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAobm9kZVsnJGlvbkNlbGwnXSA9PT0gY2VsbCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBub2RlLm9mZnNldEhlaWdodCArIHBhcnNlRmxvYXQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWJvdHRvbScpKTtcbiAgICAgICAgdGhpcy5zZXRDZWxsSGVpZ2h0KGNlbGwsIGhlaWdodCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgY29tcG9uZW50T25SZWFkeShub2RlLCB1cGRhdGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBzZXRDZWxsSGVpZ2h0KGNlbGwsIGhlaWdodCkge1xuICAgIGNvbnN0IGluZGV4ID0gY2VsbC5pO1xuICAgIC8vIHRoZSBjZWxsIG1pZ2h0IGNoYW5nZWQgc2luY2UgdGhlIGhlaWdodCB1cGRhdGUgd2FzIHNjaGVkdWxlZFxuICAgIGlmIChjZWxsICE9PSB0aGlzLmNlbGxzW2luZGV4XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2VsbC5oZWlnaHQgIT09IGhlaWdodCB8fCBjZWxsLnZpc2libGUgIT09IHRydWUpIHtcbiAgICAgIGNlbGwudmlzaWJsZSA9IHRydWU7XG4gICAgICBjZWxsLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMuaW5kZXhEaXJ0eSA9IE1hdGgubWluKHRoaXMuaW5kZXhEaXJ0eSwgaW5kZXgpO1xuICAgICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBzY2hlZHVsZVVwZGF0ZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lclVwZGF0ZSk7XG4gICAgdGhpcy50aW1lclVwZGF0ZSA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVWaXJ0dWFsU2Nyb2xsKCksIDEwMCk7XG4gIH1cbiAgdXBkYXRlU3RhdGUoKSB7XG4gICAgY29uc3Qgc2hvdWxkRW5hYmxlID0gISEodGhpcy5zY3JvbGxFbCAmJiB0aGlzLmNlbGxzLmxlbmd0aCA+IDApO1xuICAgIGlmIChzaG91bGRFbmFibGUgIT09IHRoaXMuaXNFbmFibGVkKSB7XG4gICAgICB0aGlzLmVuYWJsZVNjcm9sbEV2ZW50cyhzaG91bGRFbmFibGUpO1xuICAgICAgaWYgKHNob3VsZEVuYWJsZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpcnR1YWxTY3JvbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY2FsY0NlbGxzKCkge1xuICAgIGlmICghdGhpcy5pdGVtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxhc3RJdGVtTGVuID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgdGhpcy5jZWxscyA9IGNhbGNDZWxscyh0aGlzLml0ZW1zLCB0aGlzLml0ZW1IZWlnaHQsIHRoaXMuaGVhZGVySGVpZ2h0LCB0aGlzLmZvb3RlckhlaWdodCwgdGhpcy5oZWFkZXJGbiwgdGhpcy5mb290ZXJGbiwgdGhpcy5hcHByb3hIZWFkZXJIZWlnaHQsIHRoaXMuYXBwcm94Rm9vdGVySGVpZ2h0LCB0aGlzLmFwcHJveEl0ZW1IZWlnaHQsIDAsIDAsIHRoaXMubGFzdEl0ZW1MZW4pO1xuICAgIHRoaXMuaW5kZXhEaXJ0eSA9IDA7XG4gIH1cbiAgZ2V0SGVpZ2h0SW5kZXgoKSB7XG4gICAgaWYgKHRoaXMuaW5kZXhEaXJ0eSAhPT0gSW5maW5pdHkpIHtcbiAgICAgIHRoaXMuY2FsY0hlaWdodEluZGV4KHRoaXMuaW5kZXhEaXJ0eSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhlaWdodEluZGV4O1xuICB9XG4gIGNhbGNIZWlnaHRJbmRleChpbmRleCA9IDApIHtcbiAgICAvLyBUT0RPOiBvcHRpbWl6ZSwgd2UgZG9uJ3QgbmVlZCB0byBjYWxjdWxhdGUgYWxsIHRoZSBjZWxsc1xuICAgIHRoaXMuaGVpZ2h0SW5kZXggPSByZXNpemVCdWZmZXIodGhpcy5oZWlnaHRJbmRleCwgdGhpcy5jZWxscy5sZW5ndGgpO1xuICAgIHRoaXMudG90YWxIZWlnaHQgPSBjYWxjSGVpZ2h0SW5kZXgodGhpcy5oZWlnaHRJbmRleCwgdGhpcy5jZWxscywgaW5kZXgpO1xuICAgIHRoaXMuaW5kZXhEaXJ0eSA9IEluZmluaXR5O1xuICB9XG4gIGVuYWJsZVNjcm9sbEV2ZW50cyhzaG91bGRMaXN0ZW4pIHtcbiAgICBpZiAodGhpcy5ybUV2ZW50KSB7XG4gICAgICB0aGlzLnJtRXZlbnQoKTtcbiAgICAgIHRoaXMucm1FdmVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgc2Nyb2xsRWwgPSB0aGlzLnNjcm9sbEVsO1xuICAgIGlmIChzY3JvbGxFbCkge1xuICAgICAgdGhpcy5pc0VuYWJsZWQgPSBzaG91bGRMaXN0ZW47XG4gICAgICBzY3JvbGxFbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgIHRoaXMucm1FdmVudCA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5vblNjcm9sbCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZW5kZXJWaXJ0dWFsTm9kZShub2RlKSB7XG4gICAgY29uc3QgeyB0eXBlLCB2YWx1ZSwgaW5kZXggfSA9IG5vZGUuY2VsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQ0VMTF9UWVBFX0lURU06XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckl0ZW0odmFsdWUsIGluZGV4KTtcbiAgICAgIGNhc2UgQ0VMTF9UWVBFX0hFQURFUjpcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVySGVhZGVyKHZhbHVlLCBpbmRleCk7XG4gICAgICBjYXNlIENFTExfVFlQRV9GT09URVI6XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckZvb3Rlcih2YWx1ZSwgaW5kZXgpO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgc3R5bGU6IHtcbiAgICAgICAgaGVpZ2h0OiBgJHt0aGlzLnRvdGFsSGVpZ2h0fXB4YCxcbiAgICAgIH0gfSwgdGhpcy5yZW5kZXJJdGVtICYmIChoKFZpcnR1YWxQcm94eSwgeyBkb206IHRoaXMudmlydHVhbERvbSB9LCB0aGlzLnZpcnR1YWxEb20ubWFwKChub2RlKSA9PiB0aGlzLnJlbmRlclZpcnR1YWxOb2RlKG5vZGUpKSkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiaXRlbUhlaWdodFwiOiBbXCJpdGVtc0NoYW5nZWRcIl0sXG4gICAgXCJoZWFkZXJIZWlnaHRcIjogW1wiaXRlbXNDaGFuZ2VkXCJdLFxuICAgIFwiZm9vdGVySGVpZ2h0XCI6IFtcIml0ZW1zQ2hhbmdlZFwiXSxcbiAgICBcIml0ZW1zXCI6IFtcIml0ZW1zQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuY29uc3QgVmlydHVhbFByb3h5ID0gKHsgZG9tIH0sIGNoaWxkcmVuLCB1dGlscykgPT4ge1xuICByZXR1cm4gdXRpbHMubWFwKGNoaWxkcmVuLCAoY2hpbGQsIGkpID0+IHtcbiAgICBjb25zdCBub2RlID0gZG9tW2ldO1xuICAgIGNvbnN0IHZhdHRycyA9IGNoaWxkLnZhdHRycyB8fCB7fTtcbiAgICBsZXQgY2xhc3NlcyA9IHZhdHRycy5jbGFzcyB8fCAnJztcbiAgICBjbGFzc2VzICs9ICd2aXJ0dWFsLWl0ZW0gJztcbiAgICBpZiAoIW5vZGUudmlzaWJsZSkge1xuICAgICAgY2xhc3NlcyArPSAndmlydHVhbC1sb2FkaW5nJztcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY2hpbGQpLCB7IHZhdHRyczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB2YXR0cnMpLCB7IGNsYXNzOiBjbGFzc2VzLCBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB2YXR0cnMuc3R5bGUpLCB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKDAsJHtub2RlLnRvcH1weCwwKWAgfSkgfSkgfSk7XG4gIH0pO1xufTtcblZpcnR1YWxTY3JvbGwuc3R5bGUgPSB2aXJ0dWFsU2Nyb2xsQ3NzO1xuXG5leHBvcnQgeyBWaXJ0dWFsU2Nyb2xsIGFzIGlvbl92aXJ0dWFsX3Njcm9sbCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZiIsInJlYWRUYXNrIiwiYyIsIndyaXRlVGFzayIsImoiLCJmb3JjZVVwZGF0ZSIsImgiLCJIIiwiSG9zdCIsImkiLCJnZXRFbGVtZW50IiwiY29tcG9uZW50T25SZWFkeSIsIkNFTExfVFlQRV9JVEVNIiwiQ0VMTF9UWVBFX0hFQURFUiIsIkNFTExfVFlQRV9GT09URVIiLCJOT0RFX0NIQU5HRV9OT05FIiwiTk9ERV9DSEFOR0VfUE9TSVRJT04iLCJOT0RFX0NIQU5HRV9DRUxMIiwiTUlOX1JFQURTIiwidXBkYXRlVkRvbSIsImRvbSIsImhlaWdodEluZGV4IiwiY2VsbHMiLCJyYW5nZSIsIm5vZGUiLCJjaGFuZ2UiLCJkIiwidG9NdXRhdGUiLCJlbmQiLCJvZmZzZXQiLCJsZW5ndGgiLCJjZWxsIiwiZmluZCIsIm4iLCJ0b3AiLCJwdXNoIiwicG9vbCIsImZpbHRlciIsInR5cGUiLCJpbmRleCIsInZpc2libGUiLCJmb3JFYWNoIiwiZG9SZW5kZXIiLCJlbCIsIm5vZGVSZW5kZXIiLCJ1cGRhdGVDZWxsSGVpZ2h0IiwiX2EiLCJjaGlsZHJlbiIsIkFycmF5IiwiZnJvbSIsInRhZ05hbWUiLCJjaGlsZHJlbk51IiwiY2hpbGQiLCJuZXdDaGlsZCIsImNyZWF0ZU5vZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsInN0eWxlIiwidHJhbnNmb3JtIiwicmVtb3ZlIiwicmVhZHMiLCJ0ZW1wbGF0ZSIsImdldFRlbXBsYXRlIiwib3duZXJEb2N1bWVudCIsImltcG9ydE5vZGUiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImdldFZpZXdwb3J0Iiwic2Nyb2xsVG9wIiwidmllcnBvcnRIZWlnaHQiLCJtYXJnaW4iLCJNYXRoIiwibWF4IiwiYm90dG9tIiwiZ2V0UmFuZ2UiLCJ2aWV3cG9ydCIsImJ1ZmZlciIsInRvcFBvcyIsImJvdHRvbVBvcyIsIm1pbiIsImdldFNob3VsZFVwZGF0ZSIsImRpcnR5SW5kZXgiLCJjdXJyZW50UmFuZ2UiLCJmaW5kQ2VsbEluZGV4IiwiZmluZEluZGV4IiwiaW5wbGFjZVVwZGF0ZSIsImRzdCIsInNyYyIsImNhbGNDZWxscyIsIml0ZW1zIiwiaXRlbUhlaWdodCIsImhlYWRlckhlaWdodCIsImZvb3RlckhlaWdodCIsImhlYWRlckZuIiwiZm9vdGVyRm4iLCJhcHByb3hIZWFkZXJIZWlnaHQiLCJhcHByb3hGb290ZXJIZWlnaHQiLCJhcHByb3hJdGVtSGVpZ2h0IiwibGVuIiwiaXRlbSIsInZhbHVlIiwiaGVpZ2h0IiwiY2FsY0hlaWdodEluZGV4IiwiYnVmIiwiYWN1bSIsInJlc2l6ZUJ1ZmZlciIsIlVpbnQzMkFycmF5IiwibmV3QnVmIiwic2V0Iiwic3ViYXJyYXkiLCJwb3NpdGlvbkZvckluZGV4IiwidmlydHVhbFNjcm9sbENzcyIsIlZpcnR1YWxTY3JvbGwiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJ2aWV3cG9ydEhlaWdodCIsInZpcnR1YWxEb20iLCJpc0VuYWJsZWQiLCJ2aWV3cG9ydE9mZnNldCIsImN1cnJlbnRTY3JvbGxUb3AiLCJpbmRleERpcnR5IiwibGFzdEl0ZW1MZW4iLCJ0b3RhbEhlaWdodCIsIm9uU2Nyb2xsIiwidXBkYXRlVmlydHVhbFNjcm9sbCIsIml0ZW1zQ2hhbmdlZCIsImNvbXBvbmVudFdpbGxMb2FkIiwiY29uc29sZSIsIndhcm4iLCJjb25uZWN0ZWRDYWxsYmFjayIsImNvbnRlbnRFbCIsImNsb3Nlc3QiLCJlcnJvciIsInNjcm9sbEVsIiwiZ2V0U2Nyb2xsRWxlbWVudCIsInVwZGF0ZVN0YXRlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJ1bmRlZmluZWQiLCJvblJlc2l6ZSIsInBvc2l0aW9uRm9ySXRlbSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0SGVpZ2h0SW5kZXgiLCJjaGVja1JhbmdlIiwiY2VsbEluZGV4Iiwic2NoZWR1bGVVcGRhdGUiLCJjaGVja0VuZCIsInRpbWVyVXBkYXRlIiwiY2xlYXJUaW1lb3V0IiwicmVhZFZTIiwiYmluZCIsIndyaXRlVlMiLCJ0b3BPZmZzZXQiLCJvZmZzZXRUb3AiLCJvZmZzZXRQYXJlbnQiLCJvZmZzZXRIZWlnaHQiLCJzaG91bGRVcGRhdGUiLCJkb21SZW5kZXIiLCJyZW5kZXJJdGVtIiwidXBkYXRlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlRmxvYXQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwic2V0Q2VsbEhlaWdodCIsInNldFRpbWVvdXQiLCJzaG91bGRFbmFibGUiLCJlbmFibGVTY3JvbGxFdmVudHMiLCJJbmZpbml0eSIsInNob3VsZExpc3RlbiIsInJtRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlclZpcnR1YWxOb2RlIiwicmVuZGVySGVhZGVyIiwicmVuZGVyRm9vdGVyIiwicmVuZGVyIiwiVmlydHVhbFByb3h5IiwibWFwIiwid2F0Y2hlcnMiLCJ1dGlscyIsInZhdHRycyIsImNsYXNzZXMiLCJjbGFzcyIsIk9iamVjdCIsImFzc2lnbiIsImlvbl92aXJ0dWFsX3Njcm9sbCJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19